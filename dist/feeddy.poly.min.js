var feeddy=function(t){"use strict";var n=Object.keys,r=Array.isArray;function e(t,n,r){t.forEach(n,r)}function i(t,n,r,e){return{value:t,writable:n,enumerable:e,configurable:r}}function u(t,n,r){return t.apply(n,arguments[2])}function o(t,n,r,e){return u(t.prototype[n],r,arguments[3])}function s(t,n){return o(Object,"hasOwnProperty",t,[n])}var a=Object.defineProperty,c=Object.freeze;function f(t,n,r){s(t,n)||a(t,n,r)}function h(t,r){!function(t,r,i){e(n(r),(function(n){return i(t,n,r[n])}))}(t,r,f)}function l(t,n,r,e,u){f(t,n,i(r,e,void 0,u))}function d(t,n,r){l(t,n,r,!1,!0)}function p(t,n,r){l(t,n,r,!0,!1)}function m(t,n){var e=typeof t;return(r(n)?n:[n]).every((function(t){return e===t}))}function v(t){return null!=t}function y(t){return v(t)&&m(t,"object")}function g(t){return m(t,"function")}function w(t){return m(t,"string")}var b=function(t,n){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},b(t,n)};function x(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}b(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}"function"==typeof SuppressedError&&SuppressedError;var S=function(t){function n(n){var r=t.call(this,n)||this;return r.name="IllegalAccessError",r}return x(n,t),n}(Error),P=function(t){function n(n){var r=t.call(this,n)||this;return r.name="IllegalArgumentError",r}return x(n,t),n}(Error);function O(t){return t.length}function $(){return 0===O(this)}function j(){return!u($,this)}function R(t,n,r){return o(Array,"slice",t,[n,r])}function q(t,n,r){return o(Array,"reduce",t,[n,r])}function A(t){return u(t.concat,t,R(arguments,1))}function T(t,n,r){if(r=r||"The given value not meets the given condition.",!(n=E(n,"function","condition"))(t))throw new P(r);return t}function E(t,n,e){if(e=e||"value",r(n)){if(n.every((function(n){return!m(t,n)})))throw new P(A("The ",e," argument must be be one of these types: [",n,"[]"))}else if(!m(t,n))throw new P(A("The ",e," argument must be a ",n));return t}function I(t,n){return E(t,"object",n)}function M(t){return T(t,y,"The source must be an indexable object."),u(this.push,this,t),this}function N(t){return t}function _(t,n){var r=arguments,e=1;if(O(r)<=2)return t?t[n]:void 0;for(;e<O(r);e++){if(!t)return t;t=t[n=r[e]]}return t}function L(t,n,r){var e=arguments,i=O(e),o=e[i-1];if(i>3&&(t=u(_,void 0,R(e,0,i-2)),n=e[i-2]),t)return t[n]=o,t[n]}function k(t,e,i){var u={};if(w(e))u[e]=N;else if(r(e))for(var o=0;o<O(e);o++){var a=e[o];u[a]=e[a]}else{if(!y(e))return i;u=e}e=n(u);for(o=0;o<O(e);o++){var c=e[o];s(t,c)&&L(i,c,u[c](_(t,c)))}return i}function U(t,n){return v(t)?t.toString():(n=g(n)?n:function(){return""})()}!function(t){function n(n){var r=t.call(this,n)||this;return r.name="RequiredArgumentError",r}x(n,t)}(P);var C=Math.max,H=Math.min,D=Math.round,z=Math.random,B=0,X=z();function J(t){return A("Symbol('",U(t),"')_",u(1..toString,++B+X,[36]))}function Y(t,n){return t.bind(n)}var F=J("Promise#state"),G=J("Promise#result"),Q=J("Promise#calls");function K(t,n,r){if("pending"===_(this,F))if(n&&g(n.then)){var e=Y(W,this),i=Y(V,this);n===this?e(new TypeError("Chaining cycle detected for promise.")):n.then(i,e)}else if(L(this,F,t),L(this,G,n),s(this,Q)){var u=_(this,Q);1===O(u)?u[0](n):u[r](n)}}function V(t){u(K,this,["fulfilled",t,0])}function W(t){u(K,this,["rejected",t,1])}function Z(t,n,r){return function(e){setTimeout((function(){if(g(r))try{t(r(e))}catch(t){n(t)}else t(e)}),0)}}function tt(t,n,r,e,i){return function(){setTimeout((function(){i&&e(),n(t),i||e()}),0)}}var nt=function(){function t(t){var n;E(t,"function",n),p(this,F,"pending");var r=Y(W,this);try{t(Y(V,this),r)}catch(t){r(t)}}return t.prototype.toString=function(){return A("Promise { <",_(this,F),"> }")},t.resolve=function(n){return new t((function(t){return t(n)}))},t.reject=function(n){return new t((function(t,r){return r(n)}))},t.all=function(n){return new t((function(r,e){var i=0,u=O(n),o=[];!function(t,n,r,e){for(var i=(e=e||1)<0?function(t){return t>n}:function(t){return t<n},u=r=r||0;i(u)&&!t(u);u+=e);}((function(s){var a=n[s];t.resolve(a).then((function(t){o[s]=t,++i===u&&r(o)}),(function(t){e(t)}))}),u),0===i&&r(o)}))},t.prototype.finally=function(n){var r=this;return new t((function(t,e){switch(_(r,F)){case"pending":L(r,Q,[tt(r,t,0,n)]);break;case"fulfilled":case"rejected":tt(r,t,0,n,!0)()}}))},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(n,r){var e=this;return new t((function(t,i){var u=Z(t,i,n),o=Z(i,i,r),s=_(e,G);switch(_(e,F)){case"pending":L(e,Q,[u,o]);break;case"fulfilled":u(s);break;case"rejected":o(s)}}))},t}();function rt(t,r,e,i){if(v(r)){if(y(r))return q(n(r),(function(n,r){if("deep"===e&&s(t,r)){var i=_(t,r),u=_(n,r);v(o=i)&&o.constructor==={}.constructor&&y(u)?rt(i,u,e):k(n,r,t)}else k(n,r,t);var o;return n}),r);i&&i(t,r,e)}}function et(t,n,r,e){if(!v(n)||!v(r))return n;for(var i=0;i<O(r);i++)rt(n,r[i],t,e);return n}function it(t){return et("simple",t,arguments)}function ut(t,n,r){t[n.toString()]=n}function ot(){return et("simple",{},arguments,ut)}function st(t,n){return t.apply(n,R(arguments,2))}function at(t){var n=parseInt(this,t);return isNaN(n)?null:n}function ct(){var t=parseFloat(this);return isNaN(t)?null:t}function ft(t){return C(this.valueOf(),t)}function ht(t,n){if(t>n)throw new P(A("Cannot coerce value to an empty range: maximum '",n,"' is less than minimum '",t,"'"));return H(C(this.valueOf(),t),n)}function lt(t){return q(n(t),(function(n,r){return n[r]=i(t[r],!0,!0,!0),n}),{})}function dt(t,n){return I(n,"options"),I(t.prototype),n.statidescriptor&&h(t,n.statidescriptor),n.statics&&h(t,lt(n.statics)),n.protodescriptor&&h(t.prototype,n.protodescriptor),h(t.prototype,lt(n.prototype)),t}var pt=["published","updated"];function mt(t,n){return 0!==O(this)&&-1!==o(Array,"indexOf",this,[t,n])}function vt(t){return v(t=st(at,U(t)))?u(ft,t,[1]):1}function yt(t){try{return new Date(t).toISOString()}catch(n){return void(v(t)&&console.error("No valid date given: ",t))}}function gt(t,n,r,e,i){var u=O(t)>0?t[0]:n[r];return i||v(u)?n[r]=e?e(u):u:delete n[r],n[r]}var wt=function(t){d(this,"source",t||{})};function bt(t,n,r){return function(e){return gt(arguments,this.source,t,n,r)}}function xt(t,n){L(St,t+("max"===n?"AtMost":"AtLeast"),(function(r){return gt(arguments,this.source,A(t,"-",n),yt)}))}var St={max:bt("max-results",vt),start:bt("start-index",vt),query:bt("q"),alt:bt("alt",(function(t){return st(mt,["json","rss","atom"],t)?t:"json"}),!0),orderby:bt("orderby",(function(t){return st(mt,pt,t)?t:"updated"}),!0),toDefined:function(){return this.source}};function Pt(t,n){return t instanceof wt?n?Pt(t.source,n):t:new wt(n?it({},t):t)}function Ot(t,n){var r=_(this,jt),e=r.start();return t=st(at,U(t))|0,e="plus"===n?e+t:"minus"===n?e-t:t,r.start(e),this}function $t(t,n,r,e,i){!v(t)&&e||st(_(this,r+"AtLeast"),this,t),!v(n)&&i||st(_(this,r+"AtMost"),this,n)}e(pt,(function(t){xt(t,"min"),xt(t,"max")})),dt(wt,{prototype:St,statics:{from:Pt}});var jt=J("p"),Rt=500,qt=function(t){if(!(t instanceof wt))return Mt(t);p(this,jt,t)};function At(t){return function(n){var r=_(this,jt);return u(_(r,t),r,[n]),this}}var Tt=["place","plus","minus"].map((function(t){return function(n){return st(Ot,this,n,t)}})),Et=At("max"),It={max:Et,limit:Et,start:Tt[0],plusStart:Tt[1],minusStart:Tt[2],index:Tt[0],plusIndex:Tt[1],minusIndex:Tt[2],paginated:function(t){if(v(t)){var n=_(this,jt).max();this.start(u(ft,st(at,U(t))-1,[0])*n+1)}return this},order:At("orderby"),query:At("query"),alt:At("alt"),build:function(t){var n=_(this,jt);return t?Mt(n.source,!0).build():n.source}};function Mt(t,n){return new qt(Pt(t,n))}function Nt(){return new qt({})}function _t(t,n,r){var e="summary",i="posts",u="/";return"full"===n&&(e="default"),"pages"===t?i="pages":"comments"===t&&(i="comments",r&&(u=A(u,r,u))),r&&"comments"!==t&&(e+=A("/",r)),A("feeds",u,i,"/",e)}e(pt,(function(t){L(It,t,(function(n,r){return st($t,_(this,jt),n,r,t),this})),L(It,t+"AtLeast",(function(n){return st($t,_(this,jt),n,void 0,t,!1,!0),this})),L(It,t+"AtMost",(function(n){return st($t,_(this,jt),void 0,n,t,!0),this}))})),dt(qt,{prototype:It,statics:{from:Mt,empty:Nt}}),d(qt,"maxResults",Rt);var Lt={};function kt(t,r){var i;if(I(t,"options"),v(t.blogUrl))i=t.blogUrl;else{if(!location)throw new P("You must pass the blog url or call this on the browser.");i=location.origin}t.blogUrl=i;var o=new URL(i);o.pathname+=_t(t.type,t.route,r);var s=Pt(t.params);s.max(u(ht,s.max(),[1,Rt])),s.alt(s.alt());var a=s.toDefined();return e(n(a),(function(t){o.searchParams.set(t,a[t])})),o}function Ut(t,n){if(y(t)){if(s(t,"id"))return Ut(_(t,"id"),n);s(t,"$t")&&(t=_(t,"$t"))}if(!u(mt,["blog","post","page"],[n]))throw new P(A("'",n,"' is an unknown type id."));var r,e=new RegExp(A(n,"-","([0-9]+)"),"g");return T(e.exec(t),v,A("The given ",r=r||"value"," argument must be defined."))[1]}function Ct(t){return"comments"===_(t,"type")}function Ht(t,n,r){var e=Pt((t=Dt(t)).params);n&&(e.start(1),e.max(Rt));var i=[],o=kt(t,r),s=e.start();return function o(a,c){return fetch(U(a)).then((function(t){if(200!==t.status)throw new S("Request failed. Status: "+t.status);return t.text()})).then((function(a){try{var f=JSON.parse(a);if(r&&!Ct(t))return f;var h=f.feed,l=h.entry||[];u(M,i,[l]);var d=O(l);return u(j,l)&&d>=Rt&&(n&&d>=Rt||!n&&d<c)?(n||(c-=d),e.start(e.start()+d),e.max(c),o(kt(t),c)):(h.entry=i,e.max()!==O(i)&&(h.openSearch$itemsPerPage.$t=h.openSearch$totalResults.$t=U(O(i))),h.openSearch$startIndex.$t=U(s),f)}catch(t){throw{message:"Parse failed. The response is not a JSON.",body:a}}}))}(o,e.max())}function Dt(t){return function(t){return et("deep",t,arguments)}({route:"summary",params:{"max-results":1}},t)}function zt(t){return Ht(t)}function Bt(t){return Ht(t,!0)}function Xt(t){return Ht(_(t,"feed")||{},!1,_(t,"id"))}function Jt(t){return y(t)?U(t.$t):""}function Yt(t){return u(at,Jt(t))}function Ft(t){return Boolean(Jt(t))}function Gt(t){return r(t)?t.map((function(t){return t.term})):[]}function Qt(t){return r(t)?t.map((function(t){return k(t,{email:Jt,name:Jt,uri:Jt,gd$image:N},{})})):[]}function Kt(t){return y(t)?k(t,{id:Jt,author:Qt,title:Jt,link:N,updated:Jt,published:Jt,category:Gt,media$thumbnail:function(t){return{width:u(at,t.width),height:u(at,t.height),url:t.url}},content:Jt,summary:Jt,thr$total:Yt,"thr$in-reply-to":N,gd$extendedProperty:N},{}):{}}function Vt(t){return k(t,{version:N,encoding:N,entry:Kt},{})}function Wt(t){return k(t,{version:N,encoding:N,feed:function(t){var n=Kt(t);return k(t,{blogger$adultContent:Ft,subtitle:Jt,openSearch$itemsPerPage:Yt,openSearch$startIndex:Yt,openSearch$totalResults:Yt,entry:function(t){return r(t)?t.map(Kt):[]}},n),n}},{})}function Zt(t){return Bt(t).then(Wt)}function tn(t){return zt(t).then(Wt)}function nn(t){var n="comments"===_(t,"feed","type")?Wt:Vt;return Xt(t).then(n)}function rn(t,n,r){var e;I(t,"options"),t.feed=e=function(t,n,r,e){return n(t)?t:(E(r,"function","builder"),t=u(r,e))}(t.feed,y,ot);var i=Pt(e.params),o=i.max(),s=Mt(i),a=Ct(e)&&r?function(t){return Ht(t,i.query(),r).then(Wt)}:tn;function f(t){return e.params=s.paginated(t).build(),a(e).then((function(t){return c({entries:_(t,"feed","entry")||[],blog:t})}))}return i.query()||i.max(1),(r&&Ct(e)?a:i.query()?Zt:tn)(e).then((function(t){s.max(o);var r=n?n(t):{},e=c(it(r,{total:t.feed.openSearch$totalResults,page:f}));return delete t.feed,e}))}function en(t,n){return rn(t,n)}function un(t){return L(t,"feed","type","posts"),rn(t,(function(t){return{categories:c(t.feed.category||[])}}))}e(["posts","pages","comments"],(function(t){d(Lt,t,_t(t,"full")),d(Lt,t+"Summary",_t(t,"summary"))}));var on=J("q"),sn=J("e"),an=J("o"),cn=J("e");function fn(t,n){if(0===O(t))return this;var e=_(this,cn)?'"':"",i=function(t){return"OR"===t?"|":" "}(_(this,an)),o=_(this,sn)?"-":"";n=u(j,n=U(n))?A(n,":"):"";var s,a,c,f,h=_(this,on),l=(s=R(t),a=A(e,i,o,n,e),c=A(o,n,e),f=e,r(s)||(s=[s]),f=f||c,s=s.map(U).filter((function(t){return u(j,t)})),u($,s)?"":A(c,s.join(a),f));return u(j,h)&&(h+=i),L(this,on,h+l),this}var hn=function(){p(this,cn,!1),p(this,an,"OR"),p(this,sn,!1),p(this,on,"")};function ln(t,n){return function(){return L(this,t,n),this}}var dn={and:ln(an,"AND"),or:ln(an,"OR"),exact:ln(cn,!0),noExact:ln(cn,!1),exclude:ln(sn,!0),noExclude:ln(sn,!1),terms:function(){return u(fn,this,[arguments])},named:function(t){return u(fn,this,[R(arguments,1),t])},build:function(){var t=_(this,on);return u($,t)?void 0:t}},pn=["label","title","author"].map((function(t){var n=function(){return u(this.named,this,[t].concat(R(arguments)))};return L(dn,t,n),n}));function mn(){return new hn}function vn(t,n,r,e,i){var o,s=1;v(e)?m(o=e,"number")&&!isNaN(o)?s=e:n(e)||(s=vn(t,n,e,1,!0).ratio()):s=vn(t,n,r,1,!0).ratio();var a=U(r).split(":"),c=u(ct,a[0]),f=u(ct,a[1]);if(v(c)&&v(f))return new t(c,f).adjust(i?0:s);if(v(c))f=c/s;else{if(!v(f))throw new P(A("The ",i?"ratio":"format"," ",r," is not valid."));c=f*s}return new t(c,f)}dn.labels=dn.categories=pn[0],dt(hn,{prototype:dn}),J("Size#width"),J("Size#height");var yn="s72-c";d(zt,"all",Bt),d(zt,"byId",Xt);var gn=tn;d(gn,"all",Zt),d(gn,"raw",zt),d(gn,"byId",nn);var wn={query:mn,QueryStringBuilder:hn,params:Nt,SearchParamsBuilder:qt,SearchParams:wt};d(en,"byId",nn),d(un,"createsThumbnail",(function(t,n,r){var e=vn((function(t,n){this.width=D(t),this.height=D(n),this.adjust=function(){return this},this.ratio=function(){return 0===this.height?0:this.width/this.height}}),y,function(t){return y(t)?A("",t.width,":",t.height):U(t)}(n),r||16/9),i=A("w",e.width,"-h",e.height,"-p-k-no-nu");return t.media$thumbnail.url.replace(A("/",yn,"/"),A("/",i,"/")).replace(A("=",yn),A("=",i))})),d(un,"withCategories",(function(t){var n=t.categories;if(u($,n))return new Promise((function(t,n){return n("The categories are empty.")}));var r=Dt(t.feed);L(r,"type","posts");var e=Pt(r.params),i=mn().exact();return u(t.every?i.and:i.or,i),Mt(e).query(u(i.categories,i,n).build()),Zt(r).then((function(t){return c({posts:t.feed.entry.map((function(t){return{count:O(t.category.filter((function(t){return n.indexOf(t)>=0}))),post:t}})).sort((function(t,n){return n.count-t.count})).slice(0,e.max()),blog:t})}))}));var bn={posts:un,entries:en,search:wn,feed:gn,routes:Lt,buildUrl:kt,getId:Ut},xn=["comments","pages"];return e(xn,(function(t){L(bn,t,(function(n){return L(n,"feed","type",t),en(n)}))})),xn.push("posts"),e(xn,(function(t){L(bn,t,"byId",(function(n){return L(n,"feed","type",t),nn(n)}))})),L(bn,"comments","byId",(function(t){return L(t,"feed","type","comments"),rn(t,null,_(t,"id"))})),it(t,bn),p(window,"fetch",(function(t,r){if("undefined"==typeof XMLHttpRequest)throw new ReferenceError("This fetch polyfills requires XMLHttpRequest. You must call this on the browser.");return new Promise((function(i,o){var s=new XMLHttpRequest,a=w(t),c={url:a?t:"",method:"GET",headers:{},body:null},f=["url","method","headers"];function h(){var t={};k(this,["status","statusText"],t),t.headers=this.getAllResponseHeaders().split("\r\n").reduce((function(t,n){var r=n.split(": "),e=r[0],i=r[1];return e&&i&&(t[e]=i),t}),{});var n,r,e,i=new Response(this.response,t);return n=i,r="url",e=this.responseURL,l(n,r,e,!1,!1),i}a||k(t,u(M,f,[["url"]]),c),r&&k(r,f,c),s.onload=function(t){i(u(h,this))},s.onerror=function(t){o(u(h,this))},e(n(c.headers),(function(t){this.setRequestHeader(t,c.headers[t])}),s),s.open(c.method,c.url,!0),s.send(c.body)}))})),p(window,"Promise",nt),p(window,"SimplePromise",nt),t.buildUrl=kt,t.feed=gn,t.getId=Ut,t}({});
