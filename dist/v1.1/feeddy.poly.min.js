var feeddy=function(t){"use strict";function n(t){return Object.keys(t)}function r(t,n){var r=typeof t;return(Array.isArray(n)?n:[n]).every((function(t){return r===t}))}function e(t){return null!=t}function o(t){return e(t)&&r(t,"object")}function u(t){return r(t,"function")}function i(t,n){return t.bind(n)}function a(t,n,r){return t.apply(n,arguments[2])}function s(t,n,r,e){return a(t.prototype[n],r,arguments[3])}function c(t,n,r){if(u(t.forEach)){n=i(n,r);var e=0;t.forEach((function(r){n(r,e,t),e++}))}else s(Array,"forEach",t,[n,r])}function f(t,r,e){c(n(r),(function(n){return e(t,n,r[n])}))}function h(t,n){return s(Object,"hasOwnProperty",t,[n])}function p(t,n,r,e){!function(t,n,r){h(t,n)||Object.defineProperty(t,n,r)}(t,n,{enumerable:!1,value:r,writable:e})}function l(t,n,r){p(t,n,r,!1)}function d(t,n){f(t,n,l)}function m(t,n,r){p(t,n,r,!0)}function y(t,n){f(t,n,m)}var v=function(t,n){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},v(t,n)};function g(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}v(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}"function"==typeof SuppressedError&&SuppressedError,function(t){function n(n){var r=t.call(this,n)||this;return r.name="IllegalAccessError",r}g(n,t)}(Error);var b=function(t){function n(n){var r=t.call(this,n)||this;return r.name="IllegalArgumentError",r}return g(n,t),n}(Error);function w(){return 0===this.length}function x(){return!a(w,this)}function A(t,n,r){return e(t)?t:S(t,e,n,r)}function S(t,n,r,e){return n(t)?t:(P(r,"function","builder"),t=a(r,e))}function j(t,n,r){if(n=P(n,"function","condition"),r=A(r,(function(){return"The given value not meets the given condition."})),!n(t))throw new b(r);return t}function P(t,n,e){if(e=A(e,(function(){return"value"})),Array.isArray(n)){if(n.every((function(n){return!r(t,n)})))throw new b("The ".concat(e," argument must be be one of these types: [").concat(n,"]"))}else if(!r(t,n))throw new b("The ".concat(e," argument must be a ").concat(n));return t}function O(t,n,r){return s(Array,"slice",t,[n,r])}function R(t){return j(t,o,"The source must be an indexable object."),a(this.push,this,t),this}function $(t,n){return t[n]}function E(t,n,r){return t[n]=r,t[n]}function M(t,n,r){var e=!1;return Array.isArray(n)||(n=[n]),c(n,(function(n){e=!!h(t,n)&&(E(r,n,$(t,n)),!0)})),e}function L(t,n){return e(t)?t.toString():(n=u(n)?n:function(){return""})()}!function(t){function n(n){var r=t.call(this,n)||this;return r.name="RequiredArgumentError",r}g(n,t)}(b);var T=0,q=Math.random();function k(t){return"Symbol('".concat(L(t),"')_").concat(a(1..toString,++T+q,[36]))}var I=k("Promise#state"),N=k("Promise#result"),_=k("Promise#calls");function B(t,n,r){if("pending"===$(this,I))if(n&&u(n.then)){var e=i(Q,this),o=i(C,this);n===this?e(new TypeError("Chaining cycle detected for promise.")):n.then(o,e)}else if(E(this,I,t),E(this,N,n),h(this,_)){var a=$(this,_);1===a.length?a[0](n):a[r](n)}}function C(t){a(B,this,["fulfilled",t,0])}function Q(t){a(B,this,["rejected",t,1])}function U(t,n,r){return function(e){setTimeout((function(){if(u(r))try{t(r(e))}catch(t){n(t)}else t(e)}),0)}}function z(t,n,r,e,o){return function(){setTimeout((function(){o&&e(),n(t),o||e()}),0)}}var H=function(){function t(t){var n;P(t,"function",n),m(this,I,"pending");var r=i(Q,this);try{t(i(C,this),r)}catch(t){r(t)}}return t.prototype.toString=function(){return"Promise { <".concat($(this,I),"> }")},t.resolve=function(n){return new t((function(t){return t(n)}))},t.reject=function(n){return new t((function(t,r){return r(n)}))},t.all=function(n){return new t((function(r,e){var o=0,u=n.length,i=[];!function(t,n,r,e){r=r||0;for(var o=(e=A(e,(function(){return 1})))<0?function(t){return t>n}:function(t){return t<n},u=r;o(u)&&!t(u);u+=e);}((function(a){var s=n[a];t.resolve(s).then((function(t){i[a]=t,++o===u&&r(i)}),(function(t){e(t)}))}),u),0===o&&r(i)}))},t.prototype.finally=function(n){var r=this;return new t((function(t,e){switch($(r,I)){case"pending":E(r,_,[z(r,t,0,n)]);break;case"fulfilled":case"rejected":z(r,t,0,n,!0)()}}))},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(n,r){var e=this;return new t((function(t,o){var u=U(t,o,n),i=U(o,o,r),a=$(e,N);switch($(e,I)){case"pending":E(e,_,[u,i]);break;case"fulfilled":u(a);break;case"rejected":i(a)}}))},t}();function D(t,r,u,i){e(r)&&o(r)&&c(n(r),(function(n){if("deep"===u&&h(t,n)){var i=t[n],a=r[n];e(s=i)&&s.constructor==={}.constructor&&o(a)?D(i,a,u):t[n]=r[n]}else t[n]=r[n];var s}))}function X(t,n,r,o){if(!e(n)||!e(r))return n;for(var u=0;u<r.length;u++)D(n,r[u],t);return n}function Y(t){var r=[];return e(t)?(o(t)?c(n(t),(function(n){r.push({key:n,value:o(t[n])?Y(t[n]):t[n]})})):r.push({key:t.toString(),value:t}),r):r}function F(t,n){return t.apply(n,O(arguments,2))}function G(t){var n=parseInt(this,t);return isNaN(n)?null:n}function J(){var t=parseFloat(this);return isNaN(t)?null:t}function K(t){var n=this.valueOf();return n<t?t:n}function V(t,n){if(t>n)throw new b("Cannot coerce value to an empty range: maximum ".concat(n," is less than minimum ").concat(t,"."));var r=this.valueOf();return r<t?t:r>n?n:r}function W(t){return e(t=F(G,L(t)))?a(K,t,[1]):1}function Z(t){try{return new Date(t).toISOString()}catch(n){return void(e(t)&&console.error("No valid date given: ",t))}}function tt(t,n,r,e,o){if(t.length>0||o){var u=t.length>0?t[0]:n[r];n[r]=e?e(u):u}}var nt=function(){function t(t){d(this,{source:A(t,(function(){return{}}))})}return t.from=function(n,r){return n instanceof t?r?t.from(n.source,r):n:new t(r?function(t){return X("simple",t,arguments)}({},n):n)},t.prototype.max=function(t){var n=this.source;return tt(arguments,n,"max-results",W,!0),n["max-results"]},t.prototype.start=function(t){var n=this.source;return tt(arguments,n,"start-index",W,!0),n["start-index"]},t.prototype.publishedAtLeast=function(t){var n=this.source;return tt(arguments,n,"published-min",Z),n["published-min"]},t.prototype.publishedAtMost=function(t){var n=this.source;return tt(arguments,n,"published-max",Z),n["published-max"]},t.prototype.updatedAtLeast=function(t){var n=this.source;return tt(arguments,n,"updated-min",Z),n["updated-min"]},t.prototype.updatedAtMost=function(t){var n=this.source;return tt(arguments,n,"updated-max",Z),n["updated-max"]},t.prototype.orderby=function(t){return t="updated"===t||"starttime"===t||"lastmodified"===t?t:"lastmodified",this.source.orderby=t,t},t.prototype.query=function(t){var n=this.source;return tt(arguments,n,"q"),n.q},t.prototype.alt=function(t){tt(arguments,this.source,"alt",(function(t){return"alt"==t||"rss"===t?t:"json"}))},t.prototype.toDefined=function(){var t={};return c(n(this.source),(function(n){e(this[n])&&(t[n]=this[n])}),this.source),t},t}();function rt(t,n){var r=$(this,ot),e=r.start();t=F(G,L(t))|0,e="add"===n?e+t:"subtract"===n?e-t:t,r.start(e)}function et(t,n,r,o,u,i){!e(t)&&u||F(r,this,t),!e(n)&&i||F(o,this,n)}var ot=k("SearchParamsBuilder#params"),ut=function(){function t(n){if(!(n instanceof nt))return t.from(n);this[ot]=n}return t.from=function(n,r){return new t(nt.from(n,r))},t.empty=function(){return new t({})},Object.defineProperty(t,"maxResults",{get:function(){return 500},enumerable:!1,configurable:!0}),t.prototype.max=function(t){return $(this,ot).max(t),this},t.prototype.limit=function(t){return this.max(t)},t.prototype.start=function(t){return F(rt,this,t,"replace"),this},t.prototype.plusStart=function(t){return F(rt,this,t,"add"),this},t.prototype.minusStart=function(t){return F(rt,this,t,"subtract"),this},t.prototype.index=function(t){return this.start(t)},t.prototype.plusIndex=function(t){return this.plusStart(t)},t.prototype.minusIndex=function(t){return this.minusStart(t)},t.prototype.paginated=function(t){if(e(t)){var n=$(this,ot).max();this.start(a(K,F(G,L(t))-1,[0])*n+1)}return this},t.prototype.published=function(t,n){var r=$(this,ot);return F(et,r,t,n,r.publishedAtLeast,r.publishedAtMost),this},t.prototype.publishedAtLeast=function(t){var n=$(this,ot);return F(et,n,t,void 0,n.publishedAtLeast,n.publishedAtMost,!1,!0),this},t.prototype.publishedAtMost=function(t){var n=$(this,ot);return F(et,n,void 0,t,n.publishedAtLeast,n.publishedAtMost,!0),this},t.prototype.updated=function(t,n){var r=$(this,ot);return F(et,r,t,n,r.updatedAtLeast,r.updatedAtMost),this},t.prototype.updatedAtLeast=function(t){var n=$(this,ot);return F(et,n,t,void 0,n.updatedAtLeast,n.updatedAtMost,!1,!0),this},t.prototype.updatedAtMost=function(t){var n=$(this,ot);return F(et,n,void 0,t,n.updatedAtLeast,n.updatedAtMost,!0),this},t.prototype.order=function(t){return $(this,ot).orderby(t),this},t.prototype.query=function(t){return $(this,ot).query(t),this},t.prototype.build=function(n){var r=$(this,ot);return n?t.from(r.source,!0).build():r.source},t}();var it={posts:function(){return"feeds/posts/default"},postsSummary:function(){return"feeds/posts/summary"}};function at(t){var n,r,o;if(n=t,r=A(r="options",(function(){return"value"})),j(n,e,"The given ".concat(r," argument must be defined.")),e(t.blogUrl))o=t.blogUrl;else{if(!location)throw new b("You must pass the blog url or call this on the browser.");o=location.origin}t.blogUrl=o;var u=new URL(o);u.pathname+="full"===t.route?it.posts():it.postsSummary();var i=nt.from(t.params);return i.alt("json"),i.max(a(V,i.max(),[1,ut.maxResults])),c(Y(i.toDefined()),(function(t){u.searchParams.set(t.key,t.value)})),u}function st(t,n){t=ct(t);var r=nt.from(t.params);n&&(r.start(1),r.max(ut.maxResults));var e=[],o=at(t),u=r.start();return function o(i,s){return fetch(i).then((function(t){return t.json()})).then((function(i){var c=i.feed,f=A(c.entry,(function(){return[]}));a(R,e,[f]);var h=f.length,p=ut.maxResults;return a(x,f)&&h>=p&&(n&&h>=p||!n&&h<s)?(n||(s-=h),r.start(r.start()+h),r.max(s),o(at(t),s)):(c.entry=e,r.max()!==e.length&&(c.openSearch$itemsPerPage.$t=c.openSearch$totalResults.$t=L(e.length)),c.openSearch$startIndex.$t=L(u),i)}))}(o,r.max())}function ct(t){return function(t){return X("deep",t,arguments)}({route:"summary",params:{"max-results":1}},t)}function ft(t){return st(t)}function ht(t){return st(t,!0)}function pt(t){return o(t)?L(t.$t):""}function lt(t){return a(G,pt(t))}function dt(t){return Array.isArray(t)?t.map((function(t){return t.term})):[]}function mt(t){return{email:pt(t.email),name:pt(t.name),uri:pt(t.uri),gd$image:t.gd$image}}function yt(t){var n,r=t.feed;return{version:t.version,encoding:t.encoding,feed:{id:pt(r.id),author:r.author.map(mt),category:dt(r.category),blogger$adultContent:(n=r.blogger$adultContent,Boolean(pt(n))),title:pt(r.title),subtitle:pt(r.subtitle),updated:pt(r.updated),openSearch$startIndex:lt(r.openSearch$startIndex),openSearch$totalResults:lt(r.openSearch$totalResults),openSearch$itemsPerPage:lt(r.openSearch$itemsPerPage),entry:Array.isArray(r.entry)?r.entry.map((function(t){return function(t){if(!o(t))return{};var n=t.media$thumbnail,r={id:pt(t.id),author:t.author.map(mt),title:pt(t.title),link:t.link,category:dt(t.category),media$thumbnail:{width:a(G,n.width),height:a(G,n.height),url:n.url},updated:pt(t.updated),published:pt(t.published)};if(t.content)r.content=pt(t.content);else{if(!t.summary)throw new b("No valid post given");r.summary=pt(t.summary)}return r}(t)})):[],link:r.link}}}function vt(t){return ht(t).then(yt)}function gt(t){return ft(t).then(yt)}function bt(t,n,o,u,i){var s,c=1;e(u)?r(s=u,"number")&&!isNaN(s)?c=u:n(u)||(c=bt(t,n,u,1,!0).ratio()):c=bt(t,n,o,1,!0).ratio();var f=L(o).split(":"),h=a(J,f[0]),p=a(J,f[1]);if(e(h)&&e(p))return new t(h,p).adjust(i?0:c);if(e(h))p=h/c;else{if(!e(p))throw new b("The ".concat(i?"ratio":"format"," '").concat(o,"' is not valid."));h=p*c}return new t(h,p)}k("Size#width"),k("Size#height");var wt=function(t){return"OR"===t?"|":" "},xt=function(t){return t?'"':""},At=function(){return"-"},St=k("QueryStringBuilder#Query"),jt=k("QueryStringBuilder#Exclude"),Pt=k("QueryStringBuilder#Operator"),Ot=k("QueryStringBuilder#Exact");function Rt(t,n,r,e){return Array.isArray(t)?(e=A(e,(function(){return r})),t=t.map((function(t){return L(t)})).filter((function(t){return a(x,t)})),a(w,t)?"":"".concat(r).concat(t.join(n)).concat(e)):Rt([t],n,r,e)}function $t(t,n){if(0!==t.length){var r=xt($(this,Ot)),e=wt($(this,Pt)),o=$(this,jt)?At():"";n=a(x,n=L(n))?n+":":"";var u=$(this,St),i=Rt(O(t),r+e+o+n+r,o+n+r,r);return a(x,u)&&(u+=e),u+=i,this[St]=u,this}}var Et=function(){function t(){var t={};t[Ot]=!1,t[Pt]="OR",t[jt]=!1,t[St]="",y(this,t)}return t.prototype.and=function(){return E(this,Pt,"AND"),this},t.prototype.or=function(){return E(this,Pt,"OR"),this},t.prototype.exact=function(){return E(this,Ot,!0),this},t.prototype.noExact=function(){return E(this,Ot,!1),this},t.prototype.exclude=function(){return E(this,jt,!0),this},t.prototype.noExclude=function(){return E(this,jt,!1),this},t.prototype.terms=function(){return a($t,this,[arguments]),this},t.prototype.named=function(t){return a($t,this,[O(arguments,1),t]),this},t.prototype.categories=function(){return a(this.named,this,["label"].concat(O(arguments)))},t.prototype.labels=function(){return a(this.categories,this,arguments)},t.prototype.build=function(){var t=$(this,St);return a(w,t)?void 0:t},t}();function Mt(){return new Et}var Lt="s72-c";function Tt(t){P(t,"object","options"),t.feed=S(t.feed,o,(function(){return{}}));var n=t.feed,r=nt.from(n.params);function u(t){return n.params=ut.from(r).paginated(t).build(),gt(n).then((function(t){return Object.freeze({posts:e(t)?t.feed.entry:[],blog:t})}))}return(r.query()?vt:gt)(n).then((function(t){return Object.freeze({total:t.feed.openSearch$totalResults,page:u})}))}d(ft,{all:ht});var qt=gt;d(qt,{all:vt,raw:ft});var kt={query:Mt,QueryStringBuilder:Et,params:function(){return ut.empty()},SearchParamsBuilder:ut};return d(Tt,{createsThumbnail:function(t,n,r){var e=bt((function(t,n){this.width=Math.round(t),this.height=Math.round(n),this.adjust=function(){return this},this.ratio=function(){return 0===this.height?0:this.width/this.height}}),o,function(t){return o(t)?"".concat(L(t.width),":").concat(L(t.height)):L(t)}(n),A(r,(function(){return 16/9}))),u="w".concat(e.width,"-h").concat(e.height,"-p-k-no-nu");return t.media$thumbnail.url.replace("/".concat(Lt,"/"),"/".concat(u,"/")).replace("=".concat(Lt),"=".concat(u))},withCategories:function(t){var n=t.categories;if(a(w,n))return new Promise((function(t,n){return n("The categories are empty.")}));var r,e,o,u=ct(t.feed),i=nt.from(u.params),s=(r=Mt(),e=function(n){return a(t.every?n.and:n.or,n)},a(e,o,[r]));return ut.from(i).query(a(s.categories,s,n).build()),vt(u).then((function(t){return Object.freeze({posts:t.feed.entry.map((function(t){return{count:t.category.filter((function(t){return n.indexOf(t)>=0})).length,post:t}})).sort((function(t,n){return n.count-t.count})).slice(0,i.max()),blog:t})}))}}),y(window,{fetch:function(t,e){if("undefined"==typeof XMLHttpRequest)throw new ReferenceError("This fetch polyfills requires XMLHttpRequest. You must call this on the browser.");return new Promise((function(o,u){var i=new XMLHttpRequest,s=r(t,"string"),f={url:s?t:"",method:"GET",headers:{},body:null},h=["url","method","headers"];function p(){var t={};M(this,["status","statusText"],t),t.headers=this.getAllResponseHeaders().split("\r\n").reduce((function(t,n){var r=n.split(": "),e=r[0],o=r[1];return e&&o&&(t[e]=o),t}),{});var n=new Response(this.response,t);return l(n,"url",this.responseURL),n}s||M(t,a(R,h,[["url"]]),f),e&&M(e,h,f),i.onload=function(t){o(a(p,this))},i.onerror=function(t){u(a(p,this))},c(n(f.headers),(function(t){this.setRequestHeader(t,f.headers[t])}),i),i.open(f.method,f.url,!0),i.send(f.body)}))},Promise:H,SimplePromise:H}),t.buildUrl=at,t.feed=qt,t.posts=Tt,t.routes=it,t.search=kt,t}({});
