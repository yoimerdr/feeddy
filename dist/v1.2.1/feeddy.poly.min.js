var feeddy=function(t){"use strict";var n=Object.keys,r=Object.getOwnPropertyNames,e=Object.defineProperty,u=Object.freeze;function o(t){return t.valueOf()}var i=Array.isArray;function c(t,n,r){t.forEach(n,r)}function a(t,r,e){c(n(r),(function(n){return e(t,n,r[n])}))}function s(t,n,r,e){return{value:t,writable:n,enumerable:e,configurable:r}}function f(t,n,r){try{e(t,n,r)}catch(t){}}function h(t,n){a(t,n,f)}var l=null,d=void 0;function p(t,n,r,e,u){f(t,n,s(r,e,d,u))}function m(t,n,r){p(t,n,r,d,!0)}function v(t,n){a(t,n,m)}function y(t,n,r){p(t,n,r,!0)}function g(t,n){var r=typeof t;return(i(n)?n:[n]).every((function(t){return r===t}))}function b(t){return t!==d&&t!==l}function w(t){return b(t)&&g(t,"object")}function x(t){return g(t,"function")}function S(t){return g(t,"string")}function R(t,n,r){return t.apply(n,arguments[2])}function j(t,n,r,e){return R(t.prototype[n],r,arguments[3])}function T(t,n,r){return j(Array,"slice",t,[n,r])}function O(t,n,r){return j(Array,"reduce",t,[n,r])}function $(t,n){return t.apply(n,T(arguments,2))}function P(t){return b(t)?t.length:l}function q(t){return R(t.concat,t,T(arguments,1))}function A(t,n){return 0!==P(this)&&-1!==j(Array,"indexOf",this,[t,n])}function E(t){return t}function I(t){return function(){return t}}function N(t,n){var r=arguments,e=1;if(P(r)<=2)return t?t[n]:d;for(;e<P(r);e++){if(!t)return t;t=t[n=r[e]]}return t}function k(t,n){return j(Object,"hasOwnProperty",t,[n])}function M(t,n,r){var e=arguments,u=P(e),o=e[u-1];return u>3&&(t=R(N,d,T(e,0,u-2)),n=e[u-2]),t?(t[n]=o,t[n]):d}function L(t,r,e){var u={};if(S(r))u[r]=E;else if(i(r))u=O(r,(function(t,n){var e=r[n];return t[n]=x(e)?e:E,t}),u);else{if(!w(r))return e;u=r}return O(n(u),(function(n,r){return k(t,r)&&(n[r]=u[r](t[r])),n}),e)}function _(t,n){if(!x(n)&&n!==l)throw new TypeError(q("Class extends value ",n," is not a constructor or null"));function e(){this.constructor=n}!function(t,n){(N(Object,"setPrototypeOf")||{__proto__:[]}instanceof Array&&function(t,n){M(t,"__proto__",n)}||function(t,n){return L(n,r(n),t)})(t,n)}(t,n);try{t.prototype=n===l?Object.create(n):(e.prototype=n.prototype,new e)}catch(e){var u=n&&n.prototype;n&&L(u,r(u),t.prototype)}return t}function U(t,n){return n?function(){var r=T(arguments),e=n&&R(n,this,r)||this;return t&&R(t,e,r),e}:d}function C(){return function(){return this}}var H=["object","function"],B=TypeError;function D(t){return O(n(t),(function(n,r){return n[r]=s(t[r],!0,!0,!1),n}),{})}function X(t,n){var r=t.statics,e=t.statidescriptor,u=t.protodescriptor,o=t.prototype,i=t.construct,c=t.cls,a=i;if(!x(c=c||U))throw B("The modified constructor builder must be a function.");var s=c(a,n);if(b(i)&&!x(i))throw B("The constructor must be a function.");if(b(s)&&!x(s))throw B("The modified constructor must be a function.");i=s||i||function(){return this},n&&_(i,n),e&&h(i,e),r&&h(i,D(r));var f=i.prototype;if(!$(A,H,typeof f))throw B("The function prototype must be an object.");return u&&h(f,u),o&&h(f,D(o)),i}function J(t,n){return X({construct:function(){this.name=t}},Error)}var Y=J("IllegalAccessError"),z=J("IllegalArgumentError");function F(t){return 0===P(this||t)}function G(t){return!F(this||t)}function Q(t,n,r){return b(t)?t:W(t,b,n,r)}function W(t,n,r,e){return n(t)?t:(V(r,"function","builder"),t=R(r,e))}function K(t,n,r){if(r=r||"The given value not meets the given condition.",!(n=V(n,"function","condition"))(t))throw new z(r);return t}function V(t,n,r){if(r=r||"value",i(n)){if(n.every((function(n){return!g(t,n)})))throw new z(q("The ",r," argument must be be one of these types: [",n,"[]"))}else if(!g(t,n))throw new z(q("The ",r," argument must be a ",n));return t}function Z(t,n){return V(t,"object",n)}function tt(t,n){return K(t,w,"The source must be an indexable object."),R((n=this||n).push,n,t),n}function nt(t,n){return b(t)?t.toString():(n=x(n)?n:I(""))()}J("RequiredArgumentError");var rt=Math.max,et=Math.min,ut=Math.round,ot=Math.random,it=0,ct=ot();function at(t){return q("Symbol('",nt(t),"')_",R(1..toString,++it+ct,[36]))}function st(t,n){return t.bind(n)}var ft=at("mS"),ht=at("mR"),lt=at("mC");function dt(t,n,r,e){if("pending"===N(t,ft))if(r&&x(r.then)){var u=st(mt,t),o=st(pt,t);r===t?u(new TypeError("Chaining cycle detected for promise.")):r.then(o,u)}else if(M(t,ft,n),M(t,ht,r),k(t,lt)){var i=N(t,lt);1===P(i)?i[0](r):i[e](r)}}function pt(t){dt(this,"fulfilled",t,0)}function mt(t){dt(this,"rejected",t,1)}function vt(t,n,r){return function(e){setTimeout((function(){if(x(r))try{t(r(e))}catch(t){n(t)}else t(e)}),0)}}function yt(t,n,r,e,u){return function(){setTimeout((function(){u&&e(),n(t),u||e()}),0)}}var gt=X({construct:function(t){var n;V(t,"function",n);var r=this,e=st(mt,r);y(r,ft,"pending");try{t(st(pt,r),e)}catch(t){e(t)}},statics:{resolve:function(t){return new gt((function(n){return n(t)}))},reject:function(t){return new gt((function(n,r){return r(t)}))},all:function(t){return new gt((function(n,r){var e=0,u=P(t),o=[];c(t,(function(t,i){gt.resolve(t).then((function(t){o[i]=t,++e===u&&n(o)}),r)})),0===e&&n(o)}))}},prototype:{finally:function(t){var n=this;return new gt((function(r,e){switch(N(n,ft)){case"pending":M(n,lt,[yt(n,r,0,t)]);break;case"fulfilled":case"rejected":yt(n,r,0,t,!0)()}}))},catch:function(t){return this.then(l,t)},then:function(t,n){var r=this;return new gt((function(e,u){var o=vt(e,u,t),i=vt(u,u,n),c=N(r,ht);switch(N(r,ft)){case"pending":M(r,lt,[o,i]);break;case"fulfilled":o(c);break;case"rejected":i(c)}}))},toString:function(){return q("Promise { <",N(this,ft),"> }")}}});function bt(t,r){return w(r)?L(r,n(r),t):t}function wt(t,n){var r=parseInt(Q(this,I(n)),t);return isNaN(r)?l:r}function xt(t){var n=parseFloat(Q(this,I(t)));return isNaN(n)?l:n}function St(t,n){return rt(o(Q(this,I(n))),t)}var Rt=["published","updated"];function jt(t,n){var r=arguments,e=P(r);if(e>2&&(t=R(N,d,T(r,0,e-1)),n=r[e-1]),!t)return d;var u=t[n];return delete t[n],u}function Tt(t){!function(t,n){c(n,(function(n){return delete t[n]}))}(t,r(t))}function Ot(t){return b(t=$(wt,nt(t)))?R(St,t,[1]):1}function $t(t){try{return new Date(t).toISOString()}catch(n){return b(t)&&console.error("No valid date given: ",t),d}}function Pt(t,n,r,e,u){var o=P(t)>0?t[0]:n[r];return u||b(o)?n[r]=e?e(o):o:jt(n,r),n[r]}function qt(t,n,r){return function(e){return Pt(arguments,this.source,t,n,r)}}function At(t,n){M(Et,t+("max"===n?"AtMost":"AtLeast"),(function(r){return Pt(arguments,this.source,q(t,"-",n),$t)}))}var Et={max:qt("max-results",Ot),start:qt("start-index",Ot),query:qt("q"),alt:qt("alt",(function(t){return $(A,["json","rss","atom"],t)?t:"json"}),!0),orderby:qt("orderby",(function(t){return $(A,Rt,t)?t:"updated"}),!0),toDefined:function(){return this.source}};c(Rt,(function(t){At(t,"min"),At(t,"max")}));var It=X({construct:function(t){m(this,"source",t||{})},statics:{from:Nt},prototype:Et});function Nt(t,n){return t instanceof It?n?Nt(t.source,n):t:new It(n?bt({},t):t)}function kt(t,n,r,e,u,o){var i=N(t,Mt);return!b(n)&&u||R(N(i,e+"AtLeast"),i,[n]),!b(r)&&o||R(N(i,e+"AtMost"),i,[r]),t}var Mt=at("p"),Lt=500;function _t(t){return function(n){var r=N(this,Mt);return R(N(r,t),r,[n]),this}}var Ut=["place","plus","minus"].map((function(t){return function(n){return function(t,n,r){var e=N(t,Mt),u=e.start();return n=0|$(wt,nt(n)),u="plus"===r?u+n:"minus"===r?u-n:n,e.start(u),t}(this,n,t)}})),Ct=_t("max"),Ht={max:Ct,limit:Ct,start:Ut[0],plusStart:Ut[1],minusStart:Ut[2],index:Ut[0],plusIndex:Ut[1],minusIndex:Ut[2],paginated:function(t){var n=this;if(b(t)){var r=N(n,Mt).max();n.start(St(0,wt(l,nt(t))-1)*r+1)}return n},order:_t("orderby"),query:_t("query"),alt:_t("alt"),clear:function(){return Tt(N(this,Mt).source),this},build:function(t){var n=N(this,Mt).source;return t?Dt(n,!0).build():n}};c(Rt,(function(t){M(Ht,t,(function(n,r){return kt(this,n,r,t)})),M(Ht,t+"AtLeast",(function(n){return kt(this,n,d,t,!1,!0)})),M(Ht,t+"AtMost",(function(n){return kt(this,d,n,t,!0)}))}));var Bt=X({construct:function(t){if(!(t instanceof It))return Dt(t);y(this,Mt,t)},statics:{from:Dt,empty:Xt},prototype:Ht});function Dt(t,n){return new Bt(Nt(t,n))}function Xt(){return new Bt({})}function Jt(t,n,r){var e="full"===n?"default":"summary",u="posts",o="/";return"pages"===t?u="pages":"comments"===t&&(u="comments",r&&(o=q(o,r,o))),r&&"comments"!==t&&(e+=q("/",r)),q("feeds",o,u,"/",e)}m(Bt,"maxResults",Lt);var Yt={};function zt(t,r){var e;if(Z(t,"options"),b(t.blogUrl))e=t.blogUrl;else{if("undefined"==typeof location)throw new z("You must pass the blog url or call this on the browser.");e=location.origin}t.blogUrl=e;var u=new URL(e);u.pathname+=Jt(t.type,t.route,r);var i=Nt(t.params);i.max(function(t,n,r){return et(rt(o(Q(this,I(r))),t),n)}(1,Lt,i.max())),i.alt(i.alt());var a=i.source;return c(n(a),(function(t){u.searchParams.set(t,a[t])})),u}function Ft(t,n){if(w(t)){if(k(t,"id"))return Ft(N(t,"id"),n);k(t,"$t")&&(t=N(t,"$t"))}if(!R(A,["blog","post","page"],[n]))throw new z(q("'",n,"' is an unknown type id."));var r,e=new RegExp(q(n,"-([0-9]+)"),"g");return K(e.exec(t),b,q("The given ",r=r||"value"," argument must be defined."))[1]}function Gt(t){return"comments"===N(t,"type")}function Qt(t,n,r){var e=Nt((t=Wt(t)).params);n&&(e.start(1),e.max(Lt));var u=[],o=zt(t,r),i=e.start();return function o(c,a){return fetch(nt(c)).then((function(t){if(200!==t.status)throw new Y("Request failed. Status: "+t.status);return t.text()})).then((function(c){try{var s=JSON.parse(c);if(r&&!Gt(t))return s;var f=s.feed,h=f.entry||[];tt(h,u);var l=P(h);return G(h)&&l>=Lt&&(n&&l>=Lt||!n&&l<a)?(n||(a-=l),e.start(e.start()+l),e.max(a),o(zt(t),a)):(f.entry=u,e.max()!==P(u)&&(f.openSearch$itemsPerPage.$t=f.openSearch$totalResults.$t=nt(P(u))),f.openSearch$startIndex.$t=nt(i),s)}catch(t){throw{message:"Parse failed. The response is not a JSON.",body:c}}}))}(o,e.max())}function Wt(t){var n=bt({route:"summary",type:"posts"},t),r="params",e={"max-results":1};return M(n,r,bt(e,N(t,r))),n}function Kt(t){return Qt(t)}function Vt(t){return Qt(t,!0)}function Zt(t){return Qt(N(t,"feed")||{},!1,N(t,"id"))}function tn(t){return nt(N(t,"$t"))}function nn(t){return wt(l,tn(t))}function rn(t){return Boolean(tn(t))}function en(t){return i(t)?t.map((function(t){return t.term})):[]}function un(t){return i(t)?t.map((function(t){return L(t,{email:tn,name:tn,uri:tn,gd$image:E},{})})):[]}function on(t){return w(t)?L(t,{id:tn,author:un,title:tn,link:E,updated:tn,published:tn,category:en,media$thumbnail:function(t){return{width:R(wt,t.width),height:R(wt,t.height),url:t.url}},content:tn,summary:tn,thr$total:nn,"thr$in-reply-to":E,gd$extendedProperty:E},{}):{}}function cn(t){return L(t,{version:E,encoding:E,entry:on},{})}function an(t){return L(t,{version:E,encoding:E,feed:function(t){var n=on(t);return L(t,{blogger$adultContent:rn,subtitle:tn,openSearch$itemsPerPage:nn,openSearch$startIndex:nn,openSearch$totalResults:nn,entry:function(t){return i(t)?t.map(on):[]}},n),n}},{})}function sn(t){return Vt(t).then(an)}function fn(t){return Kt(t).then(an)}function hn(t){var n="comments"===N(t,"feed","type")?an:cn;return Zt(t).then(n)}function ln(t,n,r){var e;Z(t,"options"),t.feed=e=W(t.feed,w,C,{});var o=Nt(e.params),i=o.max(),c=Dt(o),a=Gt(e)&&r?function(t){return Qt(t,o.query(),r).then(an)}:fn;function s(t){return e.params=c.paginated(t).build(),a(e).then((function(t){return u({entries:N(t,"feed","entry")||[],blog:t})}))}return o.query()||o.max(1),(r&&Gt(e)?a:o.query()?sn:fn)(e).then((function(t){c.max(i);var r=n?n(t):{},e=u(bt(r,{total:t.feed.openSearch$totalResults,page:s}));return jt(t,"feed"),e}))}function dn(t,n){return ln(t,n)}function pn(t){return M(t,"feed","type","posts"),ln(t,(function(t){return{categories:u(t.feed.category||[])}}))}c(["posts","pages","comments"],(function(t){m(Yt,t,Jt(t,"full")),m(Yt,t+"Summary",Jt(t,d))}));var mn=at("q"),vn=at("e"),yn=at("o"),gn=at("e");function bn(t,n,r){if(F(n))return t;var e=N(t,gn)?'"':"",u=function(t){return"OR"===t?"|":" "}(N(t,yn)),o=N(t,vn)?"-":"";r=G(r=nt(r))?q(r,":"):"";var c,a,s,f,h=N(t,mn),l=(c=T(n),a=q(e,u,o,r,e),s=q(o,r,e),f=e,c=i(c)?c:[c],f=Q(f,I(s)),F(c=c.map(nt).filter(G))?"":q(s,c.join(a),f));return G(h)&&(h+=u),M(t,mn,h+l),t}function wn(t,n){return function(){return M(this,t,n),this}}var xn={and:wn(yn,"AND"),or:wn(yn,"OR"),exact:wn(gn,!0),noExact:wn(gn,!1),exclude:wn(vn,!0),noExclude:wn(vn,!1),terms:function(){return bn(this,arguments)},named:function(t){return bn(this,T(arguments,1),t)},build:function(){var t=N(this,mn);return F(t)?d:t},clear:function(t){var n=this;return t&&(M(n,mn,""),M(n,yn,"OR"),M(n,vn,!1),M(n,gn,!1)),n}},Sn=["label","title","author","link"].map((function(t){var n=function(){return R(this.named,this,q([t],T(arguments)))};return M(xn,t,n),n}));xn.labels=xn.categories=Sn[0],xn.url=Sn[3];var Rn=X({construct:function(){var t=this;y(t,gn,!1),y(t,yn,"OR"),y(t,vn,!1),y(t,mn,"")},prototype:xn});function jn(){return new Rn}function Tn(t,n,r,e){var u,o=1;b(e)?g(u=e,"number")&&!isNaN(u)?o=e:n(e)?x(N(e,"ratio"))&&(o=e.ratio()):o=Tn(t,n,e,1).ratio():o=Tn(t,n,r,1).ratio();var i=nt(r).split(":"),c=xt(i[0]),a=xt(i[1]);if(b(c)&&b(a))return new t(c,a).adjust(o);if(b(c))a=c/o;else{if(!b(a))throw new z(q("The format ",r," is not valid."));c=a*o}return new t(c,a)}var On="s72-c";function $n(t,n){t=st(t,n);for(var r=this,e=P(r);e>0;)if(--e in r&&t(r[e],e,r))return e;return-1}function Pn(t,n){var r=R($n,this,[t=st(t,n),n]);return-1!==r?this[r]:d}v(Kt,{all:Vt,byId:Zt});var qn=fn;v(qn,{all:sn,raw:Kt,byId:hn});var An={query:jn,QueryStringBuilder:Rn,params:Xt,SearchParamsBuilder:Bt,SearchParams:It};v(dn,{byId:hn,createsPathname:function(t,n){var r=N(t,"link"),e=d;return r&&G(r)&&(e=R(Pn,r,[function(t){return"alternate"===t.rel}]))?e.href.split("/").pop().replace(".html",""):function(t,n,r,e){var u="";e=e||" ",r=r||" ";for(var o=t.split(r),i=0;i<P(o);i++){var c=o[i];if(c){if(c=q(u,e,c),n&&P(c)>n)break;u=c}}return u.slice(1)}(e=N(t,"title")||nt(t),n,/\W/,"-").toLowerCase()}}),v(pn,{createsThumbnail:function(t,n,r){var e=Tn((function(t,n){var r=this;r.height=ut(n),r.width=ut(t),r.adjust=function(){return this},r.ratio=function(){return 0===r.height?0:r.width/r.height}}),w,function(t){return w(t)?q("",t.width,":",t.height):nt(t)}(n),r||16/9),u=q("w",e.width,"-h",e.height,"-p-k-no-nu"),o=new RegExp(q("/(",On,"|s[0-9]+)","/")),i=new RegExp(q("=(",On,"|s[0-9]+)"));return(t=N(t,"media$thumbnail","url")||nt(t)).replace(o,q("/",u,"/")).replace(i,q("=",u))},withCategories:function(t){var n=t.categories;if(R(F,n))return new Promise((function(t,n){return n("The categories are empty.")}));var r=Wt(t.feed);M(r,"type","posts");var e=Nt(r.params),o=jn().exact();return R(t.every?o.and:o.or,o),Dt(e).query(R(o.categories,o,n).build()),sn(r).then((function(t){return u({posts:t.feed.entry.map((function(t){return{count:P(t.category.filter((function(t){return n.indexOf(t)>=0}))),post:t}})).sort((function(t,n){return n.count-t.count})).slice(0,e.max()),blog:t})}))}});var En={posts:pn,entries:dn,search:An,feed:qn,routes:Yt,buildUrl:zt,getId:Ft},In=["comments","pages"];return c(In,(function(t){M(En,t,(function(n){return M(n,"feed","type",t),dn(n)}))})),In.push("posts"),c(In,(function(t){M(En,t,"byId",(function(n){return M(n,"feed","type",t),hn(n)}))})),M(En,"comments","byId",(function(t){return M(t,"feed","type","comments"),ln(t,l,N(t,"id"))})),bt(t,En),y(window,"fetch",(function(t,r){if("undefined"==typeof XMLHttpRequest)throw new ReferenceError("This fetch polyfills requires XMLHttpRequest. You must call this on the browser.");return new Promise((function(e,u){var o=new XMLHttpRequest,i=S(t),a={url:i?t:"",method:"GET",headers:{},body:l},s=["url","method","headers"];function f(t){var n={};L(t,["status","statusText"],n),n.headers=O(t.getAllResponseHeaders().split("\r\n"),(function(t,n){var r=n.split(": "),e=r[0],u=r[1];return e&&u&&(t[e]=u),t}),{});var r,e,u,o=new Response(t.response,n);return r=o,e="url",u=t.responseURL,p(r,e,u),o}i||L(t,tt(["url"],s),a),r&&L(r,s,a),o.onload=function(){e(f(this))},o.onerror=function(){u(f(this))};var h=a.headers;c(n(h),(function(t){return o.setRequestHeader(t,h[t])})),o.open(a.method,a.url,!0),o.send(a.body)}))})),y(window,"Promise",gt),y(window,"SimplePromise",gt),t.buildUrl=zt,t.feed=qn,t.getId=Ft,t}({});
