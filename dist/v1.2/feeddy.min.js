var feeddy=function(t){"use strict";var n=Array.isArray;function r(t,n,r){t.forEach(n,r)}function e(t,r){var e=typeof t;return(n(r)?r:[r]).every((function(t){return e===t}))}function u(t){return null!=t}function i(t){return u(t)&&e(t,"object")}function o(t,n,r){return t.apply(n,arguments[2])}function a(t,n){return u(t)?t.toString():(n=function(t){return e(t,"function")}(n)?n:function(){return""},n())}var s=Object.keys;function c(t,n,r,e){return o(t.prototype[n],r,arguments[3])}function f(t,n){return c(Object,"hasOwnProperty",t,[n])}function h(t){return t.length}function l(t,n,r){return c(Array,"slice",t,[n,r])}function p(t,n,r){return c(Array,"reduce",t,[n,r])}function d(t){return t}function m(t,n){var r=arguments,e=1;if(h(r)<=2)return t?t[n]:void 0;for(;e<h(r);e++){if(!t)return t;t=t[n=r[e]]}return t}function v(t,n,r){var e=arguments,u=h(e),i=e[u-1];if(u>3&&(t=o(m,void 0,l(e,0,u-2)),n=e[u-2]),t)return t[n]=i,t[n]}function y(t,r,u){var o={};if(function(t){return e(t,"string")}(r))o[r]=d;else if(n(r))for(var a=0;a<h(r);a++){var c=r[a];o[c]=r[c]}else{if(!i(r))return u;o=r}r=s(o);for(a=0;a<h(r);a++){var l=r[a];f(t,l)&&v(u,l,o[l](m(t,l)))}return u}function g(t,n,r,e){if(u(n)){if(i(n))return p(s(n),(function(n,e){if("deep"===r&&f(t,e)){var o=m(t,e),a=m(n,e);u(s=o)&&s.constructor==={}.constructor&&i(a)?g(o,a,r):y(n,e,t)}else y(n,e,t);var s;return n}),n);e&&e(t,n,r)}}function b(t,n,r,e){if(!u(n)||!u(r))return n;for(var i=0;i<h(r);i++)g(n,r[i],t,e);return n}function w(t){return b("simple",t,arguments)}function x(t,n,r){t[n.toString()]=n}function S(){return b("simple",{},arguments,x)}function O(t,n,r,e){return{value:t,writable:n,enumerable:e,configurable:r}}var $=Object.defineProperty,A=Object.freeze;function j(t,n,r){f(t,n)||$(t,n,r)}function I(t,n){!function(t,n,e){r(s(n),(function(r){return e(t,r,n[r])}))}(t,n,j)}function P(t,n,r,e,u){j(t,n,O(r,e,void 0,u))}function q(t,n,r){P(t,n,r,!1,!0)}function E(t,n,r){P(t,n,r,!0,!1)}function R(t,n){return t.apply(n,l(arguments,2))}var N=function(t,n){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},N(t,n)};function T(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}N(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}"function"==typeof SuppressedError&&SuppressedError;var _=function(t){function n(n){var r=t.call(this,n)||this;return r.name="IllegalAccessError",r}return T(n,t),n}(Error),M=function(t){function n(n){var r=t.call(this,n)||this;return r.name="IllegalArgumentError",r}return T(n,t),n}(Error);function U(){return 0===h(this)}function k(){return!o(U,this)}function C(t){var n=parseInt(this,t);return isNaN(n)?null:n}function D(){var t=parseFloat(this);return isNaN(t)?null:t}!function(t){function n(n){var r=t.call(this,n)||this;return r.name="RequiredArgumentError",r}T(n,t)}(M);var L=Math.max,z=Math.min,B=Math.round,J=Math.random;function F(t){return o(t.concat,t,l(arguments,1))}function Q(t){return L(this.valueOf(),t)}function Y(t,n){if(t>n)throw new M(F("Cannot coerce value to an empty range: maximum '",n,"' is less than minimum '",t,"'"));return z(L(this.valueOf(),t),n)}function G(t,n,r){if(r=r||"The given value not meets the given condition.",!(n=H(n,"function","condition"))(t))throw new M(r);return t}function H(t,r,u){if(u=u||"value",n(r)){if(r.every((function(n){return!e(t,n)})))throw new M(F("The ",u," argument must be be one of these types: [",r,"[]"))}else if(!e(t,r))throw new M(F("The ",u," argument must be a ",r));return t}function K(t,n){return H(t,"object",n)}function V(t){return p(s(t),(function(n,r){return n[r]=O(t[r],!0,!0,!0),n}),{})}function W(t,n){return K(n,"options"),K(t.prototype),n.statidescriptor&&I(t,n.statidescriptor),n.statics&&I(t,V(n.statics)),n.protodescriptor&&I(t.prototype,n.protodescriptor),I(t.prototype,V(n.prototype)),t}var X=["published","updated"];function Z(t,n){return 0!==h(this)&&-1!==c(Array,"indexOf",this,[t,n])}function tt(t){return u(t=R(C,a(t)))?o(Q,t,[1]):1}function nt(t){try{return new Date(t).toISOString()}catch(n){return void(u(t)&&console.error("No valid date given: ",t))}}function rt(t,n,r,e,i){var o=h(t)>0?t[0]:n[r];return i||u(o)?n[r]=e?e(o):o:delete n[r],n[r]}var et=function(t){q(this,"source",t||{})};function ut(t,n,r){return function(e){return rt(arguments,this.source,t,n,r)}}function it(t,n){v(ot,t+("max"===n?"AtMost":"AtLeast"),(function(r){return rt(arguments,this.source,F(t,"-",n),nt)}))}var ot={max:ut("max-results",tt),start:ut("start-index",tt),query:ut("q"),alt:ut("alt",(function(t){return R(Z,["json","rss","atom"],t)?t:"json"}),!0),orderby:ut("orderby",(function(t){return R(Z,X,t)?t:"updated"}),!0),toDefined:function(){return this.source}};function at(t,n){return t instanceof et?n?at(t.source,n):t:new et(n?w({},t):t)}r(X,(function(t){it(t,"min"),it(t,"max")})),W(et,{prototype:ot,statics:{from:at}});var st=0,ct=J();function ft(t){return F("Symbol('",a(t),"')_",o(1..toString,++st+ct,[36]))}function ht(t,n){var r=m(this,pt),e=r.start();return t=R(C,a(t))|0,e="plus"===n?e+t:"minus"===n?e-t:t,r.start(e),this}function lt(t,n,r,e,i){!u(t)&&e||R(m(this,r+"AtLeast"),this,t),!u(n)&&i||R(m(this,r+"AtMost"),this,n)}var pt=ft("p"),dt=500,mt=function(t){if(!(t instanceof et))return wt(t);E(this,pt,t)};function vt(t){return function(n){var r=m(this,pt);return o(m(r,t),r,[n]),this}}var yt=["place","plus","minus"].map((function(t){return function(n){return R(ht,this,n,t)}})),gt=vt("max"),bt={max:gt,limit:gt,start:yt[0],plusStart:yt[1],minusStart:yt[2],index:yt[0],plusIndex:yt[1],minusIndex:yt[2],paginated:function(t){if(u(t)){var n=m(this,pt).max();this.start(o(Q,R(C,a(t))-1,[0])*n+1)}return this},order:vt("orderby"),query:vt("query"),alt:vt("alt"),build:function(t){var n=m(this,pt);return t?wt(n.source,!0).build():n.source}};function wt(t,n){return new mt(at(t,n))}function xt(){return new mt({})}function St(t,n,r){var e="summary",u="posts",i="/";return"full"===n&&(e="default"),"pages"===t?u="pages":"comments"===t&&(u="comments",r&&(i=F(i,r,i))),r&&"comments"!==t&&(e+=F("/",r)),F("feeds",i,u,"/",e)}r(X,(function(t){v(bt,t,(function(n,r){return R(lt,m(this,pt),n,r,t),this})),v(bt,t+"AtLeast",(function(n){return R(lt,m(this,pt),n,void 0,t,!1,!0),this})),v(bt,t+"AtMost",(function(n){return R(lt,m(this,pt),void 0,n,t,!0),this}))})),W(mt,{prototype:bt,statics:{from:wt,empty:xt}}),q(mt,"maxResults",dt);var Ot={};function $t(t,n){var e;if(K(t,"options"),u(t.blogUrl))e=t.blogUrl;else{if(!location)throw new M("You must pass the blog url or call this on the browser.");e=location.origin}t.blogUrl=e;var i=new URL(e);i.pathname+=St(t.type,t.route,n);var a=at(t.params);a.max(o(Y,a.max(),[1,dt])),a.alt(a.alt());var c=a.toDefined();return r(s(c),(function(t){i.searchParams.set(t,c[t])})),i}function At(t,n){if(i(t)){if(f(t,"id"))return At(m(t,"id"),n);f(t,"$t")&&(t=m(t,"$t"))}if(!o(Z,["blog","post","page"],[n]))throw new M(F("'",n,"' is an unknown type id."));var r,e=new RegExp(F(n,"-","([0-9]+)"),"g");return G(e.exec(t),u,F("The given ",r=r||"value"," argument must be defined."))[1]}function jt(t){return"comments"===m(t,"type")}function It(t){return G(t,i,"The source must be an indexable object."),o(this.push,this,t),this}function Pt(t,n,r){var e=at((t=qt(t)).params);n&&(e.start(1),e.max(dt));var u=[],i=$t(t,r),s=e.start();return function i(c,f){return fetch(a(c)).then((function(t){if(200!==t.status)throw new _("Request failed. Status: "+t.status);return t.text()})).then((function(c){try{var l=JSON.parse(c);if(r&&!jt(t))return l;var p=l.feed,d=p.entry||[];o(It,u,[d]);var m=h(d);return o(k,d)&&m>=dt&&(n&&m>=dt||!n&&m<f)?(n||(f-=m),e.start(e.start()+m),e.max(f),i($t(t),f)):(p.entry=u,e.max()!==h(u)&&(p.openSearch$itemsPerPage.$t=p.openSearch$totalResults.$t=a(h(u))),p.openSearch$startIndex.$t=a(s),l)}catch(t){throw{message:"Parse failed. The response is not a JSON.",body:c}}}))}(i,e.max())}function qt(t){return function(t){return b("deep",t,arguments)}({route:"summary",params:{"max-results":1}},t)}function Et(t){return Pt(t)}function Rt(t){return Pt(t,!0)}function Nt(t){return Pt(m(t,"feed")||{},!1,m(t,"id"))}function Tt(t){return i(t)?a(t.$t):""}function _t(t){return o(C,Tt(t))}function Mt(t){return Boolean(Tt(t))}function Ut(t){return n(t)?t.map((function(t){return t.term})):[]}function kt(t){return n(t)?t.map((function(t){return y(t,{email:Tt,name:Tt,uri:Tt,gd$image:d},{})})):[]}function Ct(t){return i(t)?y(t,{id:Tt,author:kt,title:Tt,link:d,updated:Tt,published:Tt,category:Ut,media$thumbnail:function(t){return{width:o(C,t.width),height:o(C,t.height),url:t.url}},content:Tt,summary:Tt,thr$total:_t,"thr$in-reply-to":d,gd$extendedProperty:d},{}):{}}function Dt(t){return y(t,{version:d,encoding:d,entry:Ct},{})}function Lt(t){return y(t,{version:d,encoding:d,feed:function(t){var r=Ct(t);return y(t,{blogger$adultContent:Mt,subtitle:Tt,openSearch$itemsPerPage:_t,openSearch$startIndex:_t,openSearch$totalResults:_t,entry:function(t){return n(t)?t.map(Ct):[]}},r),r}},{})}function zt(t){return Rt(t).then(Lt)}function Bt(t){return Et(t).then(Lt)}function Jt(t){var n="comments"===m(t,"feed","type")?Lt:Dt;return Nt(t).then(n)}function Ft(t,n,r){var e;K(t,"options"),t.feed=e=function(t,n,r,e){return n(t)?t:(H(r,"function","builder"),t=o(r,e))}(t.feed,i,S);var u=at(e.params),a=u.max(),s=wt(u),c=jt(e)&&r?function(t){return Pt(t,u.query(),r).then(Lt)}:Bt;function f(t){return e.params=s.paginated(t).build(),c(e).then((function(t){return A({entries:m(t,"feed","entry")||[],blog:t})}))}return u.query()||u.max(1),(r&&jt(e)?c:u.query()?zt:Bt)(e).then((function(t){s.max(a);var r=n?n(t):{},e=A(w(r,{total:t.feed.openSearch$totalResults,page:f}));return delete t.feed,e}))}function Qt(t,n){return Ft(t,n)}function Yt(t){return v(t,"feed","type","posts"),Ft(t,(function(t){return{categories:A(t.feed.category||[])}}))}r(["posts","pages","comments"],(function(t){q(Ot,t,St(t,"full")),q(Ot,t+"Summary",St(t,"summary"))}));var Gt=ft("q"),Ht=ft("e"),Kt=ft("o"),Vt=ft("e");function Wt(t,r){if(0===h(t))return this;var e=m(this,Vt)?'"':"",u=function(t){return"OR"===t?"|":" "}(m(this,Kt)),i=m(this,Ht)?"-":"";r=o(k,r=a(r))?F(r,":"):"";var s,c,f,p,d=m(this,Gt),y=(s=l(t),c=F(e,u,i,r,e),f=F(i,r,e),p=e,n(s)||(s=[s]),p=p||f,s=s.map(a).filter((function(t){return o(k,t)})),o(U,s)?"":F(f,s.join(c),p));return o(k,d)&&(d+=u),v(this,Gt,d+y),this}var Xt=function(){E(this,Vt,!1),E(this,Kt,"OR"),E(this,Ht,!1),E(this,Gt,"")};function Zt(t,n){return function(){return v(this,t,n),this}}var tn={and:Zt(Kt,"AND"),or:Zt(Kt,"OR"),exact:Zt(Vt,!0),noExact:Zt(Vt,!1),exclude:Zt(Ht,!0),noExclude:Zt(Ht,!1),terms:function(){return o(Wt,this,[arguments])},named:function(t){return o(Wt,this,[l(arguments,1),t])},build:function(){var t=m(this,Gt);return o(U,t)?void 0:t}},nn=["label","title","author"].map((function(t){var n=function(){return o(this.named,this,[t].concat(l(arguments)))};return v(tn,t,n),n}));function rn(){return new Xt}function en(t,n,r,i,s){var c,f=1;u(i)?e(c=i,"number")&&!isNaN(c)?f=i:n(i)||(f=en(t,n,i,1,!0).ratio()):f=en(t,n,r,1,!0).ratio();var h=a(r).split(":"),l=o(D,h[0]),p=o(D,h[1]);if(u(l)&&u(p))return new t(l,p).adjust(s?0:f);if(u(l))p=l/f;else{if(!u(p))throw new M(F("The ",s?"ratio":"format"," ",r," is not valid."));l=p*f}return new t(l,p)}tn.labels=tn.categories=nn[0],W(Xt,{prototype:tn}),ft("Size#width"),ft("Size#height");var un="s72-c";q(Et,"all",Rt),q(Et,"byId",Nt);var on=Bt;q(on,"all",zt),q(on,"raw",Et),q(on,"byId",Jt);var an={query:rn,QueryStringBuilder:Xt,params:xt,SearchParamsBuilder:mt,SearchParams:et};q(Qt,"byId",Jt),q(Yt,"createsThumbnail",(function(t,n,r){var e=en((function(t,n){this.width=B(t),this.height=B(n),this.adjust=function(){return this},this.ratio=function(){return 0===this.height?0:this.width/this.height}}),i,function(t){return i(t)?F("",t.width,":",t.height):a(t)}(n),r||16/9),u=F("w",e.width,"-h",e.height,"-p-k-no-nu");return t.media$thumbnail.url.replace(F("/",un,"/"),F("/",u,"/")).replace(F("=",un),F("=",u))})),q(Yt,"withCategories",(function(t){var n=t.categories;if(o(U,n))return new Promise((function(t,n){return n("The categories are empty.")}));var r=qt(t.feed);v(r,"type","posts");var e=at(r.params),u=rn().exact();return o(t.every?u.and:u.or,u),wt(e).query(o(u.categories,u,n).build()),zt(r).then((function(t){return A({posts:t.feed.entry.map((function(t){return{count:h(t.category.filter((function(t){return n.indexOf(t)>=0}))),post:t}})).sort((function(t,n){return n.count-t.count})).slice(0,e.max()),blog:t})}))}));var sn={posts:Yt,entries:Qt,search:an,feed:on,routes:Ot,buildUrl:$t,getId:At},cn=["comments","pages"];return r(cn,(function(t){v(sn,t,(function(n){return v(n,"feed","type",t),Qt(n)}))})),cn.push("posts"),r(cn,(function(t){v(sn,t,"byId",(function(n){return v(n,"feed","type",t),Jt(n)}))})),v(sn,"comments","byId",(function(t){return v(t,"feed","type","comments"),Ft(t,null,m(t,"id"))})),w(t,sn),t.buildUrl=$t,t.feed=on,t.getId=At,t}({});
