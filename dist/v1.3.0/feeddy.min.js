var feeddy=function(t){"use strict";var r=Array.isArray;function n(t,r,n){t.forEach(r,n)}var e=null,u=void 0;function i(t,n){var e=typeof t;return(r(n)?n:[n]).every((function(t){return e===t}))}function o(t){return t!==u&&t!==e}function a(t){return o(t)&&i(t,"object")}function c(t){return i(t,"function")}function s(t,r,n){return t.apply(r,arguments[2])}function f(t,r,n,e){return s(t.prototype[r],n,arguments[3])}function l(t,r,n){return f(Array,"slice",t,[r,n])}function d(t,r,n){return f(Array,"reduce",t,[r,n])}function p(t){return o(t)?t.length:e}function h(t){return s(t.concat,t,l(arguments,1))}function m(t){return t}function v(t){return function(){return t}}function y(t,r){return o(t)?t.toString():(r=c(r)?r:v(""))()}var b=Object.keys,g=Object.getOwnPropertyNames,x=Object.defineProperty,w=Object.freeze;function q(t){return t.valueOf()}function S(t,r){return f(Object,"hasOwnProperty",t,[r])}function A(t,r){return t.apply(r,l(arguments,2))}function O(t,r){return 0!==p(this)&&-1!==f(Array,"indexOf",this,[t,r])}function $(t,r){var n=arguments,e=1;if(p(n)<=2)return t?t[r]:u;for(;e<p(n);e++){if(!t)return t;t=t[r=n[e]]}return t}function P(t,r,n){var e=arguments,i=p(e),o=e[i-1];return i>3&&(t=s($,u,l(e,0,i-2)),r=e[i-2]),t?(t[r]=o,t[r]):u}function j(t,n,e){var u={};if(i(n,"string"))u[n]=m;else if(r(n))u=d(n,(function(t,r){return t[r]=m,t}),u);else{if(!a(n))return e;u=n}return d(b(u),(function(r,n){return S(t,n)&&(r[n]=u[n](t[n])),r}),e)}function I(t,r){return a(r)?j(r,b(r),t):t}function R(t,r,e){n(b(r),(function(n){return e(t,n,r[n])}))}function E(t,r,n,e){return{value:t,writable:r,enumerable:e,configurable:n}}function N(t,r,n){try{x(t,r,n)}catch(t){}}function T(t,r){R(t,r,N)}function M(t,r,n,e,i){N(t,r,E(n,e,u,i))}function _(t,r,n){M(t,r,n,u,!0)}function k(t,r){R(t,r,_)}function L(t,r,n){M(t,r,n,!0)}function U(t){return 0===p(this||t)}function B(t){return!U(this||t)}function C(t,r){if(!c(r)&&r!==e)throw new TypeError(h("Class extends value ",r," is not a constructor or null"));function n(){this.constructor=r}!function(t,r){($(Object,"setPrototypeOf")||{__proto__:[]}instanceof Array&&function(t,r){P(t,"__proto__",r)}||function(t,r){return j(r,g(r),t)})(t,r)}(t,r);try{t.prototype=r===e?Object.create(r):(n.prototype=r.prototype,new n)}catch(n){var u=r&&r.prototype;r&&j(u,g(u),t.prototype)}return t}function D(t,r){return r?function(){var n=l(arguments),e=r&&s(r,this,n)||this;return t&&s(t,e,n),e}:u}function J(){return function(){return this}}var z=["object","function"],F=TypeError;function Q(t){return d(b(t),(function(r,n){return r[n]=E(t[n],!0,!0,!1),r}),{})}function W(t,r){var n=t.statics,e=t.statidescriptor,u=t.protodescriptor,i=t.prototype,a=t.construct,s=t.cls,f=a;if(!c(s=s||D))throw F("The modified constructor builder must be a function.");var l=s(f,r);if(o(a)&&!c(a))throw F("The constructor must be a function.");if(o(l)&&!c(l))throw F("The modified constructor must be a function.");a=l||a||function(){return this},r&&C(a,r),e&&T(a,e),n&&T(a,Q(n));var d=a.prototype;if(!A(O,z,typeof d))throw F("The function prototype must be an object.");return u&&T(d,u),i&&T(d,Q(i)),a}function Y(t,r){return W({construct:function(){this.name=t}},Error)}var G=Y("IllegalArgumentError"),H=Y("IllegalAccessError");function K(t,r,n){return o(t)?t:V(t,o,r,n)}function V(t,r,n,e){return r(t)?t:t=s(n,e)}function X(t,r){var n=parseInt(K(this,v(r)),t);return isNaN(n)?e:n}function Z(t){var r=parseFloat(K(this,v(t)));return isNaN(r)?e:r}Y("RequiredArgumentError");var tt=Math.max,rt=Math.min,nt=Math.round,et=Math.random;function ut(t,r){return tt(q(K(this,v(r))),t)}var it=["published","updated"],ot={"max-results":"max","start-index":"start","published-min":"publishedAtLeast","published-max":"publishedAtMost","updated-min":"updatedAtLeast","updated-max":"updatedAtMost",orderby:"order",q:"query",alt:"alt"};function at(t,r){var n=arguments,e=p(n);if(e>2&&(t=s($,u,l(n,0,e-1)),r=n[e-1]),!t)return u;var i=t[r];return delete t[r],i}function ct(t,r){n(r,(function(r){return delete t[r]}))}function st(t){return o(t=X(e,y(t)))?ut(1,t):1}function ft(t){try{return new Date(t).toISOString()}catch(r){return o(t)&&console.error("No valid date given: ",t),u}}function lt(t,r,n,e,u){var i=p(t)>0?t[0]:r[n];return u||o(i)?r[n]=e?e(i):i:at(r,n),r[n]}function dt(t,r,n){return function(e){return lt(arguments,this.source,t,r,n)}}function pt(t,r){P(ht,t+("max"===r?"AtMost":"AtLeast"),(function(n){return lt(arguments,this.source,h(t,"-",r),ft)}))}var ht={max:dt("max-results",st),start:dt("start-index",st),query:dt("q"),alt:dt("alt",(function(t){return A(O,["json","rss","atom"],t)?t:"json"}),!0),orderby:dt("orderby",(function(t){return A(O,it,t)?t:"updated"}),!0),toDefined:function(){return this.source}};n(it,(function(t){pt(t,"min"),pt(t,"max")}));var mt=W({construct:function(t){for(var r in t=t||{})(!ot[r]||!o(t[r]))&&ct(t,[r]);_(this,"source",t)},statics:{from:vt},prototype:ht});function vt(t,r){return t instanceof mt?r?vt(t.source,r):t:new mt(r?I({},t):t)}var yt=0,bt=et();function gt(t){return h("Symbol('",y(t),"')_",s(1..toString,++yt+bt,[36]))}function xt(t,r,n,e,u,i){var a=$(t,wt);return(o(r)||!u)&&s($(a,e+"AtLeast"),a,[r]),(o(n)||!i)&&s($(a,e+"AtMost"),a,[n]),t}var wt=gt("p");function qt(t){return function(r){var n=$(this,wt);return s($(n,t),n,[r]),this}}var St=["place","plus","minus"].map((function(t){return function(r){return function(t,r,n){var e=$(t,wt),i=e.start();return r=0|X(u,y(r)),i="plus"===n?i+r:"minus"===n?i-r:r,e.start(i),t}(this,r,t)}})),At=qt("max"),Ot={max:At,limit:At,start:St[0],plusStart:St[1],minusStart:St[2],index:St[0],plusIndex:St[1],minusIndex:St[2],paginated:function(t){var r=this;if(o(t)){var n=$(r,wt).max();r.start(ut(0,X(e,y(t))-1)*n+1)}return r},order:qt("orderby"),query:qt("query"),alt:qt("alt"),clear:function(){var t;return ct(t=$(this,wt).source,g(t)),this},build:function(t){var r=$(this,wt).source;return t?Pt(r,!0).build():r}};n(it,(function(t){P(Ot,t,(function(r,n){return xt(this,r,n,t)})),P(Ot,t+"AtLeast",(function(r){return xt(this,r,u,t,!1,!0)})),P(Ot,t+"AtMost",(function(r){return xt(this,u,r,t,!0)}))}));var $t=W({construct:function(t){if(!(t instanceof mt))return Pt(t);for(var r in L(this,wt,t),t=t.source){var n=ot[r];n&&this[n](t[r])}},statics:{from:Pt,empty:jt},prototype:Ot});function Pt(t,r){return new $t(vt(t,r))}function jt(){return new $t({})}function It(t,r,n){var e="full"===r?"default":"summary",u="posts",i="/";return"pages"===t?u="pages":"comments"===t&&(u="comments",n&&(i=h(i,n,i))),n&&"comments"!==t&&(e+=h("/",n)),h("feeds",i,u,"/",e)}_($t,"maxResults",500);var Rt={};function Et(t,r){var e;if(o((t=V(t,a,J,{})).blogUrl))e=t.blogUrl;else{if("undefined"==typeof location)throw new G("You must pass the blog url or call this on the browser.");e=location.origin}t.blogUrl=e;var u=new URL(e);u.pathname+=It(t.type,t.route,r);var i=vt(t.params);i.max(function(t,r,n){return rt(tt(q(K(this,v(n))),t),r)}(1,500,i.max())),i.alt(i.alt());var c=i.source;return n(b(c),(function(t){u.searchParams.set(t,c[t])})),u}function Nt(t,r){if(a(t)){if(S(t,"id"))return Nt($(t,"id"),r);S(t,"$t")&&(t=$(t,"$t"))}if(!s(O,["blog","post","page"],[r]))throw new G(h("'",r,"' is an unknown type id."));var n=new RegExp(h(r,"-([0-9]+)"),"g").exec(t);return n?n[1]:""}function Tt(t){return"comments"===$(t,"type")}function Mt(t,r,n){var e=vt((t=_t(t)).params);r&&(e.start(1),e.max(500));var u=[],i=Et(t,n),o=e.start()||1;return function i(a,c){return fetch(y(a)).then((function(t){if(200!==t.status)throw new H("Request failed. Status: "+t.status);return t.text()})).then((function(a){try{var f=JSON.parse(a);if(n&&!Tt(t))return f;var l=f.feed,d=l.entry||[];!function(t,r){r=this||r,t&&s(r.push,r,t)}(d,u);var h=p(d);return B(d)&&(r||!r&&h<c)&&(!r&&(c-=h),e.start(e.start()+h),e.max(c),c>0)?i(Et(t),c):(l.entry=u,e.max()!==p(u)&&(l.openSearch$itemsPerPage.$t=l.openSearch$totalResults.$t=y(p(u))),l.openSearch$startIndex.$t=y(o),f)}catch(t){throw{message:"Parse failed. The response is not a JSON.",body:a}}}))}(i,e.max())}function _t(t){var r=I({route:"summary",type:"posts"},t),n="params",e={"max-results":1};return P(r,n,I(e,$(t,n))),r}function kt(t){return Mt(t)}function Lt(t){return Mt(t,!0)}function Ut(t){return Mt($(t,"feed")||{},!1,$(t,"id"))}function Bt(t){return y($(t,"$t"))}function Ct(t){return X(e,Bt(t))}function Dt(t){return Boolean(Bt(t))}function Jt(t){return r(t)?t.map((function(t){return t.term})):[]}function zt(t){return r(t)?t.map((function(t){return j(t,{email:Bt,name:Bt,uri:Bt,gd$image:m},{})})):[]}function Ft(t){return a(t)?j(t,{id:Bt,author:zt,title:Bt,link:m,updated:Bt,published:Bt,category:Jt,media$thumbnail:function(t){return{width:s(X,t.width),height:s(X,t.height),url:t.url}},content:Bt,summary:Bt,thr$total:Ct,"thr$in-reply-to":m,gd$extendedProperty:m},{}):{}}function Qt(t){return j(t,{version:m,encoding:m,entry:Ft},{})}function Wt(t){return j(t,{version:m,encoding:m,feed:function(t){var n=Ft(t);return j(t,{blogger$adultContent:Dt,subtitle:Bt,openSearch$itemsPerPage:Ct,openSearch$startIndex:Ct,openSearch$totalResults:Ct,entry:function(t){return r(t)?t.map(Ft):[]}},n),n}},{})}function Yt(t){return Lt(t).then(Wt)}function Gt(t){return kt(t).then(Wt)}function Ht(t){var r="comments"===$(t,"feed","type")?Wt:Qt;return Ut(t).then(r)}function Kt(t,r,n){var e;(t=V(t,a,J,{})).feed=e=V(t.feed,a,J,{});var u=vt(e.params),i=Pt(u),o=Tt(e)&&n?function(t){return Mt(t,u.query(),n).then(Wt)}:Gt,c=r(e,u,i,o);return u.query()||u.max(1),(n&&Tt(e)?o:u.query()?Yt:Gt)(e).then(c)}function Vt(t,r){return function(n,e,u,i){var o=e.max();return function(a){u.max(o);var c=r?r(a):{},s=w(I(c,{total:a.feed.openSearch$totalResults,page:t(n,e,u,i)}));return at(a,"feed"),s}}}function Xt(t,r,n,e){return function(r){return t.params=n.paginated(r).build(),e(t).then((function(t){return w({entries:$(t,"feed","entry")||[],blog:t})}))}}function Zt(t){return P(t,"feed","type","posts"),Kt(t,Vt(Xt,(function(t){return{categories:w(t.feed.category||[])}})))}n(["posts","pages","comments"],(function(t){_(Rt,t,It(t,"full")),_(Rt,t+"Summary",It(t,u))}));var tr=gt("q"),rr=gt("e"),nr=gt("o"),er=gt("e");function ur(t,n,e){if(U(n))return t;var u=$(t,er)?'"':"",i=function(t){return"OR"===t?"|":" "}($(t,nr)),o=$(t,rr)?"-":"";e=B(e=y(e))?h(e,":"):"";var a,c,s,f,d=$(t,tr),p=(a=l(n),c=h(u,i,o,e,u),s=h(o,e,u),f=u,a=r(a)?a:[a],f=K(f,v(s)),U(a=a.map(y).filter(B))?"":h(s,a.join(c),f));return B(d)&&(d+=i),P(t,tr,d+p),t}function ir(t,r){return function(){return P(this,t,r),this}}var or={and:ir(nr,"AND"),or:ir(nr,"OR"),exact:ir(er,!0),noExact:ir(er,!1),exclude:ir(rr,!0),noExclude:ir(rr,!1),terms:function(){return ur(this,arguments)},named:function(t){return ur(this,l(arguments,1),t)},build:function(){var t=$(this,tr);return U(t)?u:t},clear:function(t){var r=this;return t&&(P(r,tr,""),P(r,nr,"OR"),P(r,rr,!1),P(r,er,!1)),r}},ar=["label","title","author","link"].map((function(t){var r=function(){return s(this.named,this,h([t],l(arguments)))};return P(or,t,r),r}));or.labels=or.categories=ar[0],or.url=ar[3];var cr=W({construct:function(){var t=this;L(t,er,!1),L(t,nr,"OR"),L(t,rr,!1),L(t,tr,"")},prototype:or});function sr(){return new cr}function fr(t,r,n,e){var u,a=1;o(e)?i(u=e,"number")&&!isNaN(u)?a=e:r(e)?c($(e,"ratio"))&&(a=e.ratio()):a=fr(t,r,e,1).ratio():a=fr(t,r,n,1).ratio();var s=y(n).split(":"),f=Z(s[0]),l=Z(s[1]);if(o(f)&&o(l))return new t(f,l).adjust(a);if(o(f))l=f/a;else{if(!o(l))throw new G(h("The format ",n," is not valid."));f=l*a}return new t(f,l)}var lr="s72-c";function dr(t,r){return Kt(t,Vt(Xt,r))}function pr(t,r){return t.bind(r)}function hr(t,r){t=pr(t,r);for(var n=this,e=p(n);e>0;)if(--e in n&&t(n[e],e,n))return e;return-1}function mr(t,r){var n=s(hr,this,[t=pr(t,r),r]);return-1!==n?this[n]:u}function vr(t,r){var n=b(r);return t=U(n)?t:h(t,"?",n.sort((function(t,r){return t.localeCompare(r)})).map((function(t){return h(t,"=",r[t])})).join("&")),{parameters:r,url:t}}k(kt,{all:Lt,byId:Ut});var yr=Gt;k(yr,{all:Yt,raw:kt,byId:Ht});var br={};k(br,{query:sr,QueryStringBuilder:cr,params:jt,SearchParamsBuilder:$t,SearchParams:mt}),k(sr,{split:function(t){for(var r,n={named:{},exact:[],terms:[]},e=/(\w+):"([^"]+)"|(\w+):(\w*)|"([^"]+)"|(\w+)/g;null!==(r=e.exec(t));)if(r[1]&&r[2]){var u=r[1],i=r[2];(o=n.named[u])||(o=n.named[u]={exact:[],terms:[]}),o.exact.push(i)}else if(r[3]&&r[4]){var o;u=r[3],i=r[4];(o=n.named[u])||(o=n.named[u]={exact:[],terms:[]}),o.terms.push(i)}else r[5]?n.exact.push(r[5]):r[6]&&n.terms.push(r[6]);return n},Builder:cr}),k(jt,{Params:mt,Builder:$t}),k(dr,{byId:Ht,createsPathname:function(t,r){var n=$(t,"link"),e=u;return n&&B(n)&&(e=s(mr,n,[function(t){return"alternate"===t.rel}]))?e.href.split("/").pop().replace(".html",""):function(t,r,n,e){var u="";e=e||" ",n=n||" ";for(var i=t.split(n),o=0;o<p(i);o++){var a=i[o];if(a){if(a=h(u,e,a),r&&p(a)>r)break;u=a}}return u.slice(1)}(e=$(t,"title")||y(t),r,/\W/,"-").toLowerCase()}}),k(Zt,{createsThumbnail:function(t,r,n){var e=fr((function(t,r){var n=this;n.height=nt(r),n.width=nt(t),n.adjust=function(){return this},n.ratio=function(){return 0===n.height?0:n.width/n.height}}),a,function(t){return a(t)?h("",t.width,":",t.height):y(t)}(r),n||16/9),u=h("w",e.width,"-h",e.height,"-p-k-no-nu"),i=new RegExp(h("/(",lr,"|s[0-9]+)","/")),o=new RegExp(h("=(",lr,"|s[0-9]+)"));return(t=$(t,"media$thumbnail","url")||y(t)).replace(i,h("/",u,"/")).replace(o,h("=",u))},withCategories:function(t){var r=t.categories;if(s(U,r))return new Promise((function(t,r){return r("The categories are empty.")}));var n=_t(t.feed),e=vt(n.params),u=sr().exact();return P(n,"type","posts"),s(t.every?u.and:u.or,u),Pt(e).query(s(u.categories,u,r).build()),Yt(n).then((function(t){return w({posts:t.feed.entry.map((function(t){return{count:p(t.category.filter((function(t){return r.indexOf(t)>=0}))),post:t}})).sort((function(t,r){return r.count-t.count})).slice(0,e.max()),blog:t})}))},ssr:function(t){P(t,"feed","type","posts");var r=$(t,"ssr"),n=$(t,"category"),i=$(t,"feed","params"),o=$(i,"q"),a="/search";return"label"===r&&n&&B(n)?(a=h(a,"/label/",n),o=sr().labels(n).build()):"query"!==r&&(o=u),P(i,"q",o),Kt(t,Vt((function(t,i,o,c){var f=i.max(),l=i.query();return function(d){var p,h=a,m={"max-results":f},v=u;return o.max(f).paginated(d).minusIndex(1),"query"===r&&l&&(m.q=l,m["by-date"]=!0),1===d?("query"===r&&l||"label"===r&&n||(h="/",m={}),v=!0):s(O,["query","default2"],[r])&&(m.start=i.start(),m["by-date"]=v=!0,"default2"===r&&(m.q="*")),v?(p=vr(h,m),new Promise((function(t){return t(p)}))):(t.params=o.max(1).build(),c(t).then((function(t){var r=function(t){return U(t=this||t)?e:t[0]}($(t,"feed","entry")||[]);if(!r)return vr("/",{});var n=r.published;return n=n.substring(0,19)+n.substring(23,29),m["updated-max"]=n,vr(h,m)})))}})))}});var gr={posts:Zt,entries:dr,search:br,feed:yr,routes:Rt,buildUrl:Et,getId:Nt},xr=["comments","pages"];return n(xr,(function(t){P(gr,t,(function(r){return P(r,"feed","type",t),dr(r)}))})),xr.push("posts"),n(xr,(function(t){P(gr,t,"byId",(function(r){return P(r,"feed","type",t),Ht(r)}))})),P(gr,"comments","byId",(function(t){return P(t,"feed","type","comments"),Kt(t,Vt(Xt),$(t,"id"))})),I(t,gr),t.buildUrl=Et,t.feed=yr,t.getId=Nt,t}({});
