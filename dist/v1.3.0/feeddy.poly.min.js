var feeddy=function(t){"use strict";var n=Object.keys,r=Object.getOwnPropertyNames,e=Object.defineProperty,u=Object.freeze;function i(t){return t.valueOf()}var o=Array.isArray;function a(t,n,r){t.forEach(n,r)}function c(t,r,e){a(n(r),(function(n){return e(t,n,r[n])}))}function s(t,n,r,e){return{value:t,writable:n,enumerable:e,configurable:r}}function f(t,n,r){try{e(t,n,r)}catch(t){}}function l(t,n){c(t,n,f)}var h=null,d=void 0;function p(t,n,r,e,u){f(t,n,s(r,e,d,u))}function m(t,n,r){p(t,n,r,d,!0)}function v(t,n){c(t,n,m)}function y(t,n,r){p(t,n,r,!0)}function b(t,n){var r=typeof t;return(o(n)?n:[n]).every((function(t){return r===t}))}function g(t){return t!==d&&t!==h}function w(t){return g(t)&&b(t,"object")}function x(t){return b(t,"function")}function q(t){return b(t,"string")}function S(t,n,r){return t.apply(n,arguments[2])}function R(t,n,r,e){return S(t.prototype[n],r,arguments[3])}function A(t,n,r){return R(Array,"slice",t,[n,r])}function P(t,n,r){return R(Array,"reduce",t,[n,r])}function j(t){return g(t)?t.length:h}function O(t){return S(t.concat,t,A(arguments,1))}function $(t){return 0===j(this||t)}function T(t){return!$(this||t)}function I(t,n){return t.apply(n,A(arguments,2))}function E(t,n){return 0!==j(this)&&-1!==R(Array,"indexOf",this,[t,n])}function M(t){return t}function L(t){return function(){return t}}function N(t,n){var r=arguments,e=1;if(j(r)<=2)return t?t[n]:d;for(;e<j(r);e++){if(!t)return t;t=t[n=r[e]]}return t}function k(t,n){return R(Object,"hasOwnProperty",t,[n])}function _(t,n,r){var e=arguments,u=j(e),i=e[u-1];return u>3&&(t=S(N,d,A(e,0,u-2)),n=e[u-2]),t?(t[n]=i,t[n]):d}function C(t,r,e){var u={};if(q(r))u[r]=M;else if(o(r))u=P(r,(function(t,n){return t[n]=M,t}),u);else{if(!w(r))return e;u=r}return P(n(u),(function(n,r){return k(t,r)&&(n[r]=u[r](t[r])),n}),e)}function U(t,n){if(!x(n)&&n!==h)throw new TypeError(O("Class extends value ",n," is not a constructor or null"));function e(){this.constructor=n}!function(t,n){(N(Object,"setPrototypeOf")||{__proto__:[]}instanceof Array&&function(t,n){_(t,"__proto__",n)}||function(t,n){return C(n,r(n),t)})(t,n)}(t,n);try{t.prototype=n===h?Object.create(n):(e.prototype=n.prototype,new e)}catch(e){var u=n&&n.prototype;n&&C(u,r(u),t.prototype)}return t}function B(t,n){return n?function(){var r=A(arguments),e=n&&S(n,this,r)||this;return t&&S(t,e,r),e}:d}function H(){return function(){return this}}var D=["object","function"],X=TypeError;function J(t){return P(n(t),(function(n,r){return n[r]=s(t[r],!0,!0,!1),n}),{})}function Y(t,n){var r=t.statics,e=t.statidescriptor,u=t.protodescriptor,i=t.prototype,o=t.construct,a=t.cls,c=o;if(!x(a=a||B))throw X("The modified constructor builder must be a function.");var s=a(c,n);if(g(o)&&!x(o))throw X("The constructor must be a function.");if(g(s)&&!x(s))throw X("The modified constructor must be a function.");o=s||o||function(){return this},n&&U(o,n),e&&l(o,e),r&&l(o,J(r));var f=o.prototype;if(!I(E,D,typeof f))throw X("The function prototype must be an object.");return u&&l(f,u),i&&l(f,J(i)),o}function z(t,n){return Y({construct:function(){this.name=t}},Error)}var F=z("IllegalArgumentError"),G=z("IllegalAccessError");function Q(t,n,r){return g(t)?t:W(t,g,n,r)}function W(t,n,r,e){return n(t)?t:t=S(r,e)}function K(t,n){return n=this||n,t&&S(n.push,n,t),n}function V(t,n){return function(t,n,r){if(r=r||"value",o(n)){if(n.every((function(n){return!b(t,n)})))throw new F(O("The ",r," argument must be be one of these types: [",n,"[]"))}else if(!b(t,n))throw new F(O("The ",r," argument must be a ",n));return t}(t,"function",n)}function Z(t,n){return g(t)?t.toString():(n=x(n)?n:L(""))()}z("RequiredArgumentError");var tt=Math.max,nt=Math.min,rt=Math.round,et=Math.random,ut=0,it=et();function ot(t){return O("Symbol('",Z(t),"')_",S(1..toString,++ut+it,[36]))}function at(t,n){return t.bind(n)}var ct=ot("mS"),st=ot("mR"),ft=ot("mC");function lt(t,n,r,e){if("pending"===N(t,ct))if(r&&x(r.then)){var u=at(dt,t),i=at(ht,t);r===t?u(new TypeError("Chaining cycle detected for promise.")):r.then(i,u)}else if(_(t,ct,n),_(t,st,r),k(t,ft)){var o=N(t,ft);1===j(o)?o[0](r):o[e](r)}}function ht(t){lt(this,"fulfilled",t,0)}function dt(t){lt(this,"rejected",t,1)}function pt(t,n,r){return function(e){setTimeout((function(){if(x(r))try{t(r(e))}catch(t){n(t)}else t(e)}),0)}}function mt(t,n,r,e,u){return function(){setTimeout((function(){u&&e(),n(t),u||e()}),0)}}var vt=Y({construct:function(t){V(t);var n=this,r=at(dt,n);y(n,ct,"pending");try{t(at(ht,n),r)}catch(t){r(t)}},statics:{resolve:function(t){return new vt((function(n){return n(t)}))},reject:function(t){return new vt((function(n,r){return r(t)}))},all:function(t){return new vt((function(n,r){var e=0,u=j(t),i=[];a(t,(function(t,o){vt.resolve(t).then((function(t){i[o]=t,++e===u&&n(i)}),r)})),0===e&&n(i)}))}},prototype:{finally:function(t){var n=this;return new vt((function(r,e){switch(N(n,ct)){case"pending":_(n,ft,[mt(n,r,0,t)]);break;case"fulfilled":case"rejected":mt(n,r,0,t,!0)()}}))},catch:function(t){return this.then(h,t)},then:function(t,n){var r=this;return new vt((function(e,u){var i=pt(e,u,t),o=pt(u,u,n),a=N(r,st);switch(N(r,ct)){case"pending":_(r,ft,[i,o]);break;case"fulfilled":i(a);break;case"rejected":o(a)}}))},toString:function(){return O("Promise { <",N(this,ct),"> }")}}});function yt(t,r){return w(r)?C(r,n(r),t):t}function bt(t,n){var r=parseInt(Q(this,L(n)),t);return isNaN(r)?h:r}function gt(t){var n=parseFloat(Q(this,L(t)));return isNaN(n)?h:n}function wt(t,n){return tt(i(Q(this,L(n))),t)}var xt=["published","updated"],qt={"max-results":"max","start-index":"start","published-min":"publishedAtLeast","published-max":"publishedAtMost","updated-min":"updatedAtLeast","updated-max":"updatedAtMost",orderby:"order",q:"query",alt:"alt"};function St(t,n){var r=arguments,e=j(r);if(e>2&&(t=S(N,d,A(r,0,e-1)),n=r[e-1]),!t)return d;var u=t[n];return delete t[n],u}function Rt(t,n){a(n,(function(n){return delete t[n]}))}function At(t){return g(t=bt(h,Z(t)))?wt(1,t):1}function Pt(t){try{return new Date(t).toISOString()}catch(n){return g(t)&&console.error("No valid date given: ",t),d}}function jt(t,n,r,e,u){var i=j(t)>0?t[0]:n[r];return u||g(i)?n[r]=e?e(i):i:St(n,r),n[r]}function Ot(t,n,r){return function(e){return jt(arguments,this.source,t,n,r)}}function $t(t,n){_(Tt,t+("max"===n?"AtMost":"AtLeast"),(function(r){return jt(arguments,this.source,O(t,"-",n),Pt)}))}var Tt={max:Ot("max-results",At),start:Ot("start-index",At),query:Ot("q"),alt:Ot("alt",(function(t){return I(E,["json","rss","atom"],t)?t:"json"}),!0),orderby:Ot("orderby",(function(t){return I(E,xt,t)?t:"updated"}),!0),toDefined:function(){return this.source}};a(xt,(function(t){$t(t,"min"),$t(t,"max")}));var It=Y({construct:function(t){for(var n in t=t||{})(!qt[n]||!g(t[n]))&&Rt(t,[n]);m(this,"source",t)},statics:{from:Et},prototype:Tt});function Et(t,n){return t instanceof It?n?Et(t.source,n):t:new It(n?yt({},t):t)}function Mt(t,n,r,e,u,i){var o=N(t,Lt);return(g(n)||!u)&&S(N(o,e+"AtLeast"),o,[n]),(g(r)||!i)&&S(N(o,e+"AtMost"),o,[r]),t}var Lt=ot("p");function Nt(t){return function(n){var r=N(this,Lt);return S(N(r,t),r,[n]),this}}var kt=["place","plus","minus"].map((function(t){return function(n){return function(t,n,r){var e=N(t,Lt),u=e.start();return n=0|bt(d,Z(n)),u="plus"===r?u+n:"minus"===r?u-n:n,e.start(u),t}(this,n,t)}})),_t=Nt("max"),Ct={max:_t,limit:_t,start:kt[0],plusStart:kt[1],minusStart:kt[2],index:kt[0],plusIndex:kt[1],minusIndex:kt[2],paginated:function(t){var n=this;if(g(t)){var r=N(n,Lt).max();n.start(wt(0,bt(h,Z(t))-1)*r+1)}return n},order:Nt("orderby"),query:Nt("query"),alt:Nt("alt"),clear:function(){var t;return Rt(t=N(this,Lt).source,r(t)),this},build:function(t){var n=N(this,Lt).source;return t?Bt(n,!0).build():n}};a(xt,(function(t){_(Ct,t,(function(n,r){return Mt(this,n,r,t)})),_(Ct,t+"AtLeast",(function(n){return Mt(this,n,d,t,!1,!0)})),_(Ct,t+"AtMost",(function(n){return Mt(this,d,n,t,!0)}))}));var Ut=Y({construct:function(t){if(!(t instanceof It))return Bt(t);for(var n in y(this,Lt,t),t=t.source){var r=qt[n];r&&this[r](t[n])}},statics:{from:Bt,empty:Ht},prototype:Ct});function Bt(t,n){return new Ut(Et(t,n))}function Ht(){return new Ut({})}function Dt(t,n,r){var e="full"===n?"default":"summary",u="posts",i="/";return"pages"===t?u="pages":"comments"===t&&(u="comments",r&&(i=O(i,r,i))),r&&"comments"!==t&&(e+=O("/",r)),O("feeds",i,u,"/",e)}m(Ut,"maxResults",500);var Xt={};function Jt(t,r){var e;if(g((t=W(t,w,H,{})).blogUrl))e=t.blogUrl;else{if("undefined"==typeof location)throw new F("You must pass the blog url or call this on the browser.");e=location.origin}t.blogUrl=e;var u=new URL(e);u.pathname+=Dt(t.type,t.route,r);var o=Et(t.params);o.max(function(t,n,r){return nt(tt(i(Q(this,L(r))),t),n)}(1,500,o.max())),o.alt(o.alt());var c=o.source;return a(n(c),(function(t){u.searchParams.set(t,c[t])})),u}function Yt(t,n){if(w(t)){if(k(t,"id"))return Yt(N(t,"id"),n);k(t,"$t")&&(t=N(t,"$t"))}if(!S(E,["blog","post","page"],[n]))throw new F(O("'",n,"' is an unknown type id."));var r=new RegExp(O(n,"-([0-9]+)"),"g").exec(t);return r?r[1]:""}function zt(t){return"comments"===N(t,"type")}function Ft(t,n,r){var e=Et((t=Gt(t)).params);n&&(e.start(1),e.max(500));var u=[],i=Jt(t,r),o=e.start()||1;return function i(a,c){return fetch(Z(a)).then((function(t){if(200!==t.status)throw new G("Request failed. Status: "+t.status);return t.text()})).then((function(a){try{var s=JSON.parse(a);if(r&&!zt(t))return s;var f=s.feed,l=f.entry||[];K(l,u);var h=j(l);return T(l)&&(n||!n&&h<c)&&(!n&&(c-=h),e.start(e.start()+h),e.max(c),c>0)?i(Jt(t),c):(f.entry=u,e.max()!==j(u)&&(f.openSearch$itemsPerPage.$t=f.openSearch$totalResults.$t=Z(j(u))),f.openSearch$startIndex.$t=Z(o),s)}catch(t){throw{message:"Parse failed. The response is not a JSON.",body:a}}}))}(i,e.max())}function Gt(t){var n=yt({route:"summary",type:"posts"},t),r="params",e={"max-results":1};return _(n,r,yt(e,N(t,r))),n}function Qt(t){return Ft(t)}function Wt(t){return Ft(t,!0)}function Kt(t){return Ft(N(t,"feed")||{},!1,N(t,"id"))}function Vt(t){return Z(N(t,"$t"))}function Zt(t){return bt(h,Vt(t))}function tn(t){return Boolean(Vt(t))}function nn(t){return o(t)?t.map((function(t){return t.term})):[]}function rn(t){return o(t)?t.map((function(t){return C(t,{email:Vt,name:Vt,uri:Vt,gd$image:M},{})})):[]}function en(t){return w(t)?C(t,{id:Vt,author:rn,title:Vt,link:M,updated:Vt,published:Vt,category:nn,media$thumbnail:function(t){return{width:S(bt,t.width),height:S(bt,t.height),url:t.url}},content:Vt,summary:Vt,thr$total:Zt,"thr$in-reply-to":M,gd$extendedProperty:M},{}):{}}function un(t){return C(t,{version:M,encoding:M,entry:en},{})}function on(t){return C(t,{version:M,encoding:M,feed:function(t){var n=en(t);return C(t,{blogger$adultContent:tn,subtitle:Vt,openSearch$itemsPerPage:Zt,openSearch$startIndex:Zt,openSearch$totalResults:Zt,entry:function(t){return o(t)?t.map(en):[]}},n),n}},{})}function an(t){return Wt(t).then(on)}function cn(t){return Qt(t).then(on)}function sn(t){var n="comments"===N(t,"feed","type")?on:un;return Kt(t).then(n)}function fn(t,n,r){var e;(t=W(t,w,H,{})).feed=e=W(t.feed,w,H,{});var u=Et(e.params),i=Bt(u),o=zt(e)&&r?function(t){return Ft(t,u.query(),r).then(on)}:cn,a=n(e,u,i,o);return u.query()||u.max(1),(r&&zt(e)?o:u.query()?an:cn)(e).then(a)}function ln(t,n){return function(r,e,i,o){var a=e.max();return function(c){i.max(a);var s=n?n(c):{},f=u(yt(s,{total:c.feed.openSearch$totalResults,page:t(r,e,i,o)}));return St(c,"feed"),f}}}function hn(t,n,r,e){return function(n){return t.params=r.paginated(n).build(),e(t).then((function(t){return u({entries:N(t,"feed","entry")||[],blog:t})}))}}function dn(t){return _(t,"feed","type","posts"),fn(t,ln(hn,(function(t){return{categories:u(t.feed.category||[])}})))}a(["posts","pages","comments"],(function(t){m(Xt,t,Dt(t,"full")),m(Xt,t+"Summary",Dt(t,d))}));var pn=ot("q"),mn=ot("e"),vn=ot("o"),yn=ot("e");function bn(t,n,r){if($(n))return t;var e=N(t,yn)?'"':"",u=function(t){return"OR"===t?"|":" "}(N(t,vn)),i=N(t,mn)?"-":"";r=T(r=Z(r))?O(r,":"):"";var a,c,s,f,l=N(t,pn),h=(a=A(n),c=O(e,u,i,r,e),s=O(i,r,e),f=e,a=o(a)?a:[a],f=Q(f,L(s)),$(a=a.map(Z).filter(T))?"":O(s,a.join(c),f));return T(l)&&(l+=u),_(t,pn,l+h),t}function gn(t,n){return function(){return _(this,t,n),this}}var wn={and:gn(vn,"AND"),or:gn(vn,"OR"),exact:gn(yn,!0),noExact:gn(yn,!1),exclude:gn(mn,!0),noExclude:gn(mn,!1),terms:function(){return bn(this,arguments)},named:function(t){return bn(this,A(arguments,1),t)},build:function(){var t=N(this,pn);return $(t)?d:t},clear:function(t){var n=this;return t&&(_(n,pn,""),_(n,vn,"OR"),_(n,mn,!1),_(n,yn,!1)),n}},xn=["label","title","author","link"].map((function(t){var n=function(){return S(this.named,this,O([t],A(arguments)))};return _(wn,t,n),n}));wn.labels=wn.categories=xn[0],wn.url=xn[3];var qn=Y({construct:function(){var t=this;y(t,yn,!1),y(t,vn,"OR"),y(t,mn,!1),y(t,pn,"")},prototype:wn});function Sn(){return new qn}function Rn(t,n,r,e){var u,i=1;g(e)?b(u=e,"number")&&!isNaN(u)?i=e:n(e)?x(N(e,"ratio"))&&(i=e.ratio()):i=Rn(t,n,e,1).ratio():i=Rn(t,n,r,1).ratio();var o=Z(r).split(":"),a=gt(o[0]),c=gt(o[1]);if(g(a)&&g(c))return new t(a,c).adjust(i);if(g(a))c=a/i;else{if(!g(c))throw new F(O("The format ",r," is not valid."));a=c*i}return new t(a,c)}var An="s72-c";function Pn(t,n){return fn(t,ln(hn,n))}function jn(t,n){t=at(t,n);for(var r=this,e=j(r);e>0;)if(--e in r&&t(r[e],e,r))return e;return-1}function On(t,n){var r=S(jn,this,[t=at(t,n),n]);return-1!==r?this[r]:d}function $n(t,r){var e=n(r);return t=$(e)?t:O(t,"?",e.sort((function(t,n){return t.localeCompare(n)})).map((function(t){return O(t,"=",r[t])})).join("&")),{parameters:r,url:t}}v(Qt,{all:Wt,byId:Kt});var Tn=cn;v(Tn,{all:an,raw:Qt,byId:sn});var In={};v(In,{query:Sn,QueryStringBuilder:qn,params:Ht,SearchParamsBuilder:Ut,SearchParams:It}),v(Sn,{split:function(t){for(var n,r={named:{},exact:[],terms:[]},e=/(\w+):"([^"]+)"|(\w+):(\w*)|"([^"]+)"|(\w+)/g;null!==(n=e.exec(t));)if(n[1]&&n[2]){var u=n[1],i=n[2];(o=r.named[u])||(o=r.named[u]={exact:[],terms:[]}),o.exact.push(i)}else if(n[3]&&n[4]){var o;u=n[3],i=n[4];(o=r.named[u])||(o=r.named[u]={exact:[],terms:[]}),o.terms.push(i)}else n[5]?r.exact.push(n[5]):n[6]&&r.terms.push(n[6]);return r},Builder:qn}),v(Ht,{Params:It,Builder:Ut}),v(Pn,{byId:sn,createsPathname:function(t,n){var r=N(t,"link"),e=d;return r&&T(r)&&(e=S(On,r,[function(t){return"alternate"===t.rel}]))?e.href.split("/").pop().replace(".html",""):function(t,n,r,e){var u="";e=e||" ",r=r||" ";for(var i=t.split(r),o=0;o<j(i);o++){var a=i[o];if(a){if(a=O(u,e,a),n&&j(a)>n)break;u=a}}return u.slice(1)}(e=N(t,"title")||Z(t),n,/\W/,"-").toLowerCase()}}),v(dn,{createsThumbnail:function(t,n,r){var e=Rn((function(t,n){var r=this;r.height=rt(n),r.width=rt(t),r.adjust=function(){return this},r.ratio=function(){return 0===r.height?0:r.width/r.height}}),w,function(t){return w(t)?O("",t.width,":",t.height):Z(t)}(n),r||16/9),u=O("w",e.width,"-h",e.height,"-p-k-no-nu"),i=new RegExp(O("/(",An,"|s[0-9]+)","/")),o=new RegExp(O("=(",An,"|s[0-9]+)"));return(t=N(t,"media$thumbnail","url")||Z(t)).replace(i,O("/",u,"/")).replace(o,O("=",u))},withCategories:function(t){var n=t.categories;if(S($,n))return new Promise((function(t,n){return n("The categories are empty.")}));var r=Gt(t.feed),e=Et(r.params),i=Sn().exact();return _(r,"type","posts"),S(t.every?i.and:i.or,i),Bt(e).query(S(i.categories,i,n).build()),an(r).then((function(t){return u({posts:t.feed.entry.map((function(t){return{count:j(t.category.filter((function(t){return n.indexOf(t)>=0}))),post:t}})).sort((function(t,n){return n.count-t.count})).slice(0,e.max()),blog:t})}))},ssr:function(t){_(t,"feed","type","posts");var n=N(t,"ssr"),r=N(t,"category"),e=N(t,"feed","params"),u=N(e,"q"),i="/search";return"label"===n&&r&&T(r)?(i=O(i,"/label/",r),u=Sn().labels(r).build()):"query"!==n&&(u=d),_(e,"q",u),fn(t,ln((function(t,e,u,o){var a=e.max(),c=e.query();return function(s){var f,l=i,p={"max-results":a},m=d;return u.max(a).paginated(s).minusIndex(1),"query"===n&&c&&(p.q=c,p["by-date"]=!0),1===s?("query"===n&&c||"label"===n&&r||(l="/",p={}),m=!0):S(E,["query","default2"],[n])&&(p.start=e.start(),p["by-date"]=m=!0,"default2"===n&&(p.q="*")),m?(f=$n(l,p),new Promise((function(t){return t(f)}))):(t.params=u.max(1).build(),o(t).then((function(t){var n=function(t){return $(t=this||t)?h:t[0]}(N(t,"feed","entry")||[]);if(!n)return $n("/",{});var r=n.published;return r=r.substring(0,19)+r.substring(23,29),p["updated-max"]=r,$n(l,p)})))}})))}});var En={posts:dn,entries:Pn,search:In,feed:Tn,routes:Xt,buildUrl:Jt,getId:Yt},Mn=["comments","pages"];return a(Mn,(function(t){_(En,t,(function(n){return _(n,"feed","type",t),Pn(n)}))})),Mn.push("posts"),a(Mn,(function(t){_(En,t,"byId",(function(n){return _(n,"feed","type",t),sn(n)}))})),_(En,"comments","byId",(function(t){return _(t,"feed","type","comments"),fn(t,ln(hn),N(t,"id"))})),yt(t,En),y(window,"fetch",(function(t,r){if("undefined"==typeof XMLHttpRequest)throw new ReferenceError("This fetch polyfills requires XMLHttpRequest. You must call this on the browser.");return new Promise((function(e,u){var i=new XMLHttpRequest,o=q(t),c={url:o?t:"",method:"GET",headers:{},body:h},s=["url","method","headers"];function f(t){var n={};C(t,["status","statusText"],n),n.headers=P(t.getAllResponseHeaders().split("\r\n"),(function(t,n){var r=n.split(": "),e=r[0],u=r[1];return e&&u&&(t[e]=u),t}),{});var r,e,u,i=new Response(t.response,n);return r=i,e="url",u=t.responseURL,p(r,e,u),i}o||C(t,K(["url"],s),c),r&&C(r,s,c),i.onload=function(){e(f(this))},i.onerror=function(){u(f(this))};var l=c.headers;a(n(l),(function(t){return i.setRequestHeader(t,l[t])})),i.open(c.method,c.url,!0),i.send(c.body)}))})),y(window,"Promise",vt),y(window,"SimplePromise",vt),t.buildUrl=Jt,t.feed=Tn,t.getId=Yt,t}({});
