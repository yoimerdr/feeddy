/*!
 * feeddy | 1.4.0 | November 26th 2025
 * https://www.yoimerdr.github.io/feeddy/docs/
 * Copyright (c) 2024 Yoimer Davila;
 * @license MIT
 */

var feeddy=function(t){"use strict";var r=Array.isArray,n=null,e=void 0;function u(t,n){var e=typeof n;return(r(t)?t:[t]).every((function(t){return e===t}))}function o(t){return t!==e&&t!==n}function i(t){return o(t)&&u("object",t)}function a(t,r){return t instanceof r}function c(t,r,n){return t.apply(r,arguments[2])}function s(t,r,n,e){return c(t.prototype[r],n,arguments[3])}function f(t,r,n){return s(Array,"slice",t,[r,n])}function l(t){return o(t)?t.length:n}function p(t){return c(t.concat,t,f(arguments,1))}function d(t,r){return c(t.bind,t,p([r],f(arguments,2)))}function h(t){return function(r){return c(t,r,f(arguments,1))}}var m=d(u,e,"function"),v=d(u,e,"number"),y=d(u,e,"string");var g,b=Object,x=b.keys,w=b.getOwnPropertyNames,q=b.defineProperty,A=b.freeze,S=(g="valueOf",function(t){return t[g]()}),$=function(t){return function(r){return r[t]}}("prototype"),O=h($(Array).reduce);function P(t){return t}function I(t){return function(){return t}}function j(t,r){return o(t)?t.toString():(r=m(r)?r:I(""))()}function E(t,r){return s(Object,"hasOwnProperty",t,[r])}function R(t,r){return 0!==l(this)&&-1!==s(Array,"indexOf",this,[t,r])}function T(t,r){var n=arguments,u=1;if(l(n)<=2)return t?t[r]:e;for(;u<l(n);u++){if(!t)return t;t=t[r=n[u]]}return t}function N(t,r){return t?t[r]:e}var _=h($(Array).forEach);function B(t,r){var n=arguments,u=l(n),o=n[u-1];return u>3&&(t=c(T,e,f(n,0,u-2)),r=n[u-2]),t?(t[r]=o,t[r]):e}function k(t,n,e){var u={};if(y(n))u[n]=P;else if(r(n))u=O(n,(function(t,r){return t[r]=P,t}),u);else{if(!i(n))return e;u=n}return O(x(u),(function(r,n){return E(t,n)&&(r[n]=u[n](t[n])),r}),e)}function C(t,r){return t.apply(r,f(arguments,2))}function L(t,r,n){!function(t,r,n){r=d(r,n);var e=0;for(var u in t)r(t[u],u,e),e++}(n,(function(n,e){return t(r,e,n)}))}function M(t,r,n,e){return{value:t,writable:r,enumerable:e,configurable:n}}function U(t,r,n){try{q(t,r,n)}catch(t){}}var D=d(L,e,U);function F(t,r){return(N(Object,"setPrototypeOf")||{__proto__:[]}instanceof Array&&function(t,r){!function(t,r,n){t&&(t[r]=n)}(t,"__proto__",r)}||function(t,r){return k(r,w(r),t)})(t,r),t}function J(t,r){if(!m(r)&&r!==n)throw new TypeError(p("Class extends value ",r," is not a constructor or null"));function e(){this.constructor=r}F(t,r);try{t.prototype=r===n?Object.create(r):(e.prototype=r.prototype,new e)}catch(n){var u=r&&r.prototype;r&&k(u,w(u),t.prototype)}return t}function z(t,r){return r?function(){var n=f(arguments),e=r&&c(r,this,n)||this;return t&&c(t,e,n),e}:e}var Q=["object","function"],W=TypeError;function Y(t){return O(x(t),(function(r,n){return r[n]=M(t[n],!0,!0,!1),r}),{})}function G(t,r){var n=t.statics,e=t.statidescriptor,u=t.protodescriptor,i=t.prototype,a=t.construct,c=t.cls,s=a;if(!m(c=c||z))throw W("The modified constructor builder must be a function.");var f=c(s,r);if(o(a)&&!m(a))throw W("The constructor must be a function.");if(o(f)&&!m(f))throw W("The modified constructor must be a function.");a=f||a||function(){return this},r&&J(a,r),e&&D(a,e),n&&D(a,Y(n));var l=a.prototype;if(!C(R,Q,typeof l))throw W("The function prototype must be an object.");return u&&D(l,u),i&&D(l,Y(i)),a}function H(t,r){return G({construct:function(){this.name=t}},Error)}var K=H("IllegalArgumentError");function V(t,r,n){return o(t)?t:X(t,o,r,n)}function X(t,r,n,e){return r(t)?t:t=c(n,e)}function Z(t){return 0===l(V(t,I(this)))}function tt(t){return!Z(V(t,I(this)))}var rt=H("IllegalAccessError");function nt(t,r){return i(r)?k(r,x(r),t):t}function et(t,r,n,e,u,o){U(e,u,M(o,t,n,r))}var ut=d(et,e,e,e,e),ot=d(et,e,e,!0,e),it=d(et,e,!0,e,e),at=d(L,e,ut);function ct(t,r){var e=parseInt(V(r,I(this)),t);return isNaN(e)?n:e}function st(t){var r=parseFloat(V(t,I(this)));return isNaN(r)?n:r}var ft=Math,lt=ft.max,pt=ft.min,dt=ft.round,ht=ft.random;function mt(t,r){return lt(S(V(r,I(this))),t)}var vt=["published","updated"],yt={"max-results":"max","start-index":"start","published-min":"publishedAtLeast","published-max":"publishedAtMost","updated-min":"updatedAtLeast","updated-max":"updatedAtMost",orderby:"order",q:"query",alt:"alt"};function gt(t,r){var n=arguments,u=l(n);if(u>2&&(t=c(T,e,f(n,0,u-1)),r=n[u-1]),!t)return e;var o=t[r];return delete t[r],o}function bt(t,r){_(r,(function(r){return delete t[r]}))}function xt(){return this}function wt(t){var r=f(arguments,1);return function(){return c(t,this,p(r,f(arguments)))}}function qt(t){return o(t=ct(n,j(t)))?mt(1,t):1}function At(t){try{return new Date(t).toISOString()}catch(r){return o(t)&&console.error("No valid date given: ",t),e}}function St(t,r,n,e,u){var i=l(t)>0?t[0]:r[n];return u||o(i)?r[n]=e?e(i):i:gt(r,n),r[n]}function $t(t,r,n){return function(e){return St(arguments,this.source,t,r,n)}}function Ot(t,r){B(Pt,t+("max"===r?"AtMost":"AtLeast"),(function(n){return St(arguments,this.source,p(t,"-",r),At)}))}var Pt={max:$t("max-results",qt),start:$t("start-index",qt),query:$t("q"),alt:$t("alt",(function(t){return C(R,["json","rss","atom"],t)?t:"json"}),!0),orderby:$t("orderby",(function(t){return C(R,vt,t)?t:"updated"}),!0),toDefined:wt((function(t){return this[t]}),"source")};_(vt,(function(t){Ot(t,"min"),Ot(t,"max")}));var It=G({construct:function(t){for(var r in t=t||{})(!yt[r]||!o(t[r]))&&bt(t,[r]);ot(this,"source",t)},statics:{from:jt},prototype:Pt});function jt(t,r){return a(t,It)?r?jt(t.source,r):t:new It(r?nt({},t):t)}var Et=0,Rt=ht();function Tt(t){return p("Symbol('",j(t),"')_",c(1..toString,++Et+Rt,[36]))}function Nt(t,r){var n=T(this,kt),u=n.start();return o(r)?(r=ct(e,j(r)),u="plus"===t?u+r:"minus"===t?u-r:r):u=r,n.start(u),this}function _t(t,r,n,e,u,i){var a=T(t,kt);return(o(r)||!u)&&c(T(a,e+"AtLeast"),a,[r]),(o(n)||!i)&&c(T(a,e+"AtMost"),a,[n]),t}function Bt(t){return function(r){var n=T(this,kt);return c(T(n,t),n,[r]),this}}var kt=Tt("p"),Ct=Tt("m"),Lt=["place","plus","minus"].map((function(t){return wt(Nt,t)})),Mt=function(t){var r=this;return t=T(r,kt).max(t),B(r,Ct,t),r},Ut=function(t){var r=this;if(o(t)){var e=T(r,kt).max();r.start(mt(0,ct(n,j(t))-1)*e+1)}return r},Dt={max:Mt,limit:Mt,start:Lt[0],plusStart:Lt[1],minusStart:Lt[2],index:Lt[0],plusIndex:Lt[1],minusIndex:Lt[2],paginated:Ut,page:Ut,repage:function(t,r){var e=this;if(o(t)&&o(r)){t=ct(n,t),r=ct(n,r);var u=T(e,Ct),i=mt(1,t-r*u+1),a=T(e,kt),c=u;r>1&&(c=mt(1,t-(r-1)*u+1-i)),a.max(c),a.start(i)}return e},order:Bt("orderby"),query:Bt("query"),alt:Bt("alt"),clear:function(){var t;return bt(t=T(this,kt).source,w(t)),this},build:function(t){var r=T(this,kt).source;return t?Jt(r,!0).build():r}};_(vt,(function(t){B(Dt,t,(function(r,n){return _t(this,r,n,t)})),B(Dt,t+"AtLeast",(function(r){return _t(this,r,e,t,!1,!0)})),B(Dt,t+"AtMost",(function(r){return _t(this,e,r,t,!0)}))}));var Ft=G({construct:function(t){if(!a(t,It))return Jt(t);for(var r in it(this,kt,t),t=t.source){var n=yt[r];n&&this[n](t[r])}},statics:{from:Jt,empty:zt},prototype:Dt});function Jt(t,r){return new Ft(jt(t,r))}function zt(){return new Ft({})}function Qt(t,r,n){var e="full"===r?"full":"summary",u="posts",o="/";return"pages"===t?u="pages":"comments"===t&&(u="comments",n&&(o=p(o,n,o))),n&&"comments"!==t&&(e+=p("/",n)),p("feeds",o,u,"/",e)}ot(Ft,"maxResults",500);var Wt={};function Yt(t,r){var n;if(o((t=X(t,i,xt,{})).blogUrl))n=t.blogUrl;else{if("undefined"==typeof location)throw new K("You must pass the blog url or call this on the browser.");n=location.origin}t.blogUrl=n;var e=new URL(n);e.pathname+=Qt(t.type,t.route,r);var u=jt(t.params);u.max(function(t,r,n){return pt(lt(S(V(n,I(this))),t),r)}(1,500,u.max())),u.alt(u.alt());var a=u.source;return _(x(a),(function(t){e.searchParams.set(t,a[t])})),e}function Gt(t,r){if(i(t)){if(E(t,"id"))return Gt(T(t,"id"),r);E(t,"$t")&&(t=T(t,"$t"))}if(!c(R,["blog","post","page"],[r]))throw new K(p("'",r,"' is an unknown type id."));var n=new RegExp(p(r,"-([0-9]+)"),"g").exec(t);return n?n[1]:""}function Ht(t){return"comments"===T(t,"type")}function Kt(t,r,n){var e=jt((t=Vt(t)).params);r&&(e.start(1),e.max(500));var u=[],o=Yt(t,n),i=e.start()||1;return function o(a,s){return fetch(j(a)).then((function(t){if(200!==t.status)throw new rt("Request failed. Status: "+t.status);return t.text()})).then((function(a){var f;try{f=JSON.parse(a)}catch(t){throw{message:"Parse failed. The response is not a JSON.",body:a}}if(n&&!Ht(t))return f;var p=f.feed,d=p.entry||[];!function(t,r){r=V(r,I(this)),t&&c(r.push,r,t)}(d,u);var h=l(d);return tt(d)&&(r||!r&&h<s)&&(!r&&(s-=h),e.start(e.start()+h),e.max(s),s>0)?o(Yt(t),s):(p.entry=u,e.max()!==l(u)&&(p.openSearch$itemsPerPage.$t=p.openSearch$totalResults.$t=j(l(u))),p.openSearch$startIndex.$t=j(i),f)}))}(o,e.max())}function Vt(t){var r=nt({route:"summary",type:"posts"},t),n="params",e={"max-results":1};return B(r,n,nt(e,T(t,n))),r}function Xt(t){return Kt(t)}function Zt(t){return Kt(t,!0)}function tr(t){return Kt(T(t,"feed")||{},!1,T(t,"id"))}function rr(t){return j(T(t,"$t"))}function nr(t){return ct(n,rr(t))}function er(t){return Boolean(rr(t))}function ur(t){return j(T(t,"term"))}function or(t){return r(t)?t.map(ur):[]}function ir(t){return k(t,{email:rr,name:rr,uri:rr,gd$image:P},{})}function ar(t){return r(t)?t.map(ir):[]}function cr(t){return i(t)?k(t,{id:rr,author:ar,title:rr,link:P,updated:rr,published:rr,category:or,media$thumbnail:function(t){return{width:c(ct,t.width),height:c(ct,t.height),url:t.url}},content:rr,summary:rr,thr$total:nr,"thr$in-reply-to":P,gd$extendedProperty:P},{}):{}}function sr(t){return k(t,{version:P,encoding:P,entry:cr},{})}function fr(t){var n=cr(t);return k(t,{blogger$adultContent:er,subtitle:rr,openSearch$itemsPerPage:nr,openSearch$startIndex:nr,openSearch$totalResults:nr,entry:function(t){return r(t)?t.map(cr):[]}},n),n}function lr(t){return k(t,{version:P,encoding:P,feed:fr},{})}function pr(t){return Zt(t).then(lr)}function dr(t){return Xt(t).then(lr)}function hr(t){var r=Ht(N(t,"feed"))?lr:sr;return tr(t).then(r)}function mr(t,r,n){var e;(t=X(t,i,xt,{})).feed=e=X(t.feed,i,xt,{});var u=jt(e.params),o=Jt(u),a=Ht(e)&&n?function(t){return Kt(t,u.query(),n).then(lr)}:dr,c=r(e,u,o,a);return u.query()||u.max(1),(n&&Ht(e)?a:u.query()?pr:dr)(e).then(c)}function vr(t,r){return function(n,e,u,o){var i=e.max();return function(a){u.max(i);var c=r?r(a):{},s=A(nt(c,{total:a.feed.openSearch$totalResults,page:t(n,e,u,o)}));return gt(a,"feed"),s}}}function yr(t,r,n,e){return function(r,u){return u?n.repage(this.total,r):n.page(r),t.params=n.build(),e(t).then((function(t){var r=T(t,"feed","entry")||[];return u&&r.reverse(),A({entries:r,blog:t})}))}}function gr(t){return B(t,"feed","type","posts"),mr(t,vr(yr,(function(t){return{categories:A(t.feed.category||[])}})))}_(["posts","pages","comments"],(function(t){ot(Wt,t,Qt(t,"full")),ot(Wt,t+"Summary",Qt(t,e))}));var br=Tt("q"),xr=Tt("e"),wr=Tt("o"),qr=Tt("e");function Ar(t){var n=this,e=T(n,qr)?'"':"",u=function(t){return"OR"===t?"|":" "}(T(n,wr)),o=T(n,xr)?"-":"",i=f(arguments,1);if(Z(i))return n;t=tt(t=j(t))?p(t,":"):"";var a,c,s,l,d=T(n,br),h=(a=i,c=p(e,u,o,t,e),s=p(o,t,e),l=e,a=r(a)?a:[a],l=V(l,I(s)),Z(a=a.map(j).filter(tt))?"":p(s,a.join(c),l));return tt(d)&&(d+=u),B(n,br,d+h),n}function Sr(t,r){return B(this,t,r),this}var $r={and:wt(Sr,wr,"AND"),or:wt(Sr,wr,"OR"),exact:wt(Sr,qr,!0),noExact:wt(Sr,qr,!1),exclude:wt(Sr,xr,!0),noExclude:wt(Sr,xr,!1),terms:wt(Ar,""),named:wt(Ar),build:function(){var t=T(this,br);return Z(t)?e:t},clear:function(t){var r=this;return t&&(B(r,br,""),B(r,wr,"OR"),B(r,xr,!1),B(r,qr,!1)),r}},Or=["label","title","author","link"].map((function(t){var r=wt(Ar,t);return B($r,t,r),r}));$r.labels=$r.categories=Or[0],$r.url=Or[3];var Pr=G({construct:function(){var t=this;it(t,qr,!1),it(t,wr,"OR"),it(t,xr,!1),it(t,br,"")},prototype:$r});function Ir(){return new Pr}function jr(t,r,n,e){var u=1;o(e)?v(e)?u=e:r(e)?m(N(e,"ratio"))&&(u=e.ratio()):u=jr(t,r,e,0).ratio():u=jr(t,r,n,0).ratio();var i=j(n).split(":"),a=st(i[0]),c=st(i[1]);if(o(a)&&o(c))return new t(a,c).adjust(u);if(o(a))c=a/(u||1);else{if(!o(c))throw new K(p("The format ",n," is not valid."));a=c*(u||1)}return new t(a,c)}var Er="s72-c";function Rr(t){return o(t)?function(r,n){return n[t]-r[t]}:function(t,r){return r-t}}function Tr(t,r){return mr(t,vr(yr,r))}function Nr(t,r){t=d(t,r);for(var n=this,e=l(n);e>0;)if(--e in n&&t(n[e],e,n))return e;return-1}function _r(t,r){var n=c(Nr,this,[t=d(t,r),r]);return-1!==n?this[n]:e}function Br(t,r){var n=x(r);return t=Z(n)?t:p(t,"?",n.sort((function(t,r){return t.localeCompare(r)})).map((function(t){return p(t,"=",r[t])})).join("&")),{parameters:r,url:t}}at(Xt,{all:Zt,byId:tr});var kr=dr;at(kr,{all:pr,raw:Xt,byId:hr});var Cr={};at(Cr,{query:Ir,QueryStringBuilder:Pr,params:zt,SearchParamsBuilder:Ft,SearchParams:It}),at(Ir,{split:function(t){for(var r,n={named:{},exact:[],terms:[]},e=/(\w+):"([^"]+)"|(\w+):(\w*)|"([^"]+)"|(\w+)/g;null!==(r=e.exec(t));)if(r[1]&&r[2]){var u=r[1],o=r[2];(i=n.named[u])||(i=n.named[u]={exact:[],terms:[]}),i.exact.push(o)}else if(r[3]&&r[4]){var i;u=r[3],o=r[4];(i=n.named[u])||(i=n.named[u]={exact:[],terms:[]}),i.terms.push(o)}else r[5]?n.exact.push(r[5]):r[6]&&n.terms.push(r[6]);return n},Builder:Pr}),at(zt,{Params:It,Builder:Ft}),at(Tr,{byId:hr,createsPathname:function(t,r){var n=T(t,"link"),u=e;return n&&tt(n)&&(u=c(_r,n,[function(t){return"alternate"===t.rel}]))?u.href.split("/").pop().replace(".html",""):function(t,r,n,e){var u="";e=e||" ",n=n||" ";for(var o=t.split(n),i=0;i<l(o);i++){var a=o[i];if(a){if(a=p(u,e,a),r&&l(a)>r+1)break;u=a}}return u.slice(1)}(u=T(t,"title")||j(t),r,/\W/,"-").toLowerCase()}}),at(gr,{createsThumbnail:function(t,r,n){var e=jr((function(t,r){var n=this;n.height=dt(r),n.width=dt(t),n.adjust=xt,n.ratio=function(){return 0===n.height?0:n.width/n.height}}),i,function(t){return i(t)?p("",t.width,":",t.height):j(t)}(r),n||16/9),u=p("w",e.width,"-h",e.height,"-p-k-no-nu"),o=new RegExp(p("/(",Er,"|s[0-9]+)","/")),a=new RegExp(p("=(",Er,"|s[0-9]+)"));return(t=T(t,"media$thumbnail","url")||j(t)).replace(o,p("/",u,"/")).replace(a,p("=",u))},withCategories:function(t){var r,n=t.categories;if(Z(n))return r="The categories are empty.",new Promise((function(t,n){return n(r)}));var e=Vt(t.feed),u=jt(e.params),o=Ir().exact();return B(e,"type","posts"),c(t.every?o.and:o.or,o),Jt(u).query(c(o.categories,o,n).build()),pr(e).then((function(t){return A({posts:t.feed.entry.map((function(t){return{count:l(t.category.filter((function(t){return n.indexOf(t)>=0}))),post:t}})).sort(Rr("count")).slice(0,u.max()),blog:t})}))},ssr:function(t){B(t,"feed","type","posts");var r=T(t,"ssr"),u=T(t,"category"),o=T(t,"feed","params"),i=T(o,"q"),a="/search";return"label"===r&&u&&tt(u)?(a=p(a,"/label/",u),i=Ir().labels(u).build()):"query"!==r&&(i=e),B(o,"q",i),mr(t,vr((function(t,o,i,s){var f=o.max(),l=o.query();return function(p){var d,h=a,m={"max-results":f},v=e;return i.max(f).page(p).minusIndex(1),"query"===r&&l&&(m.q=l,m["by-date"]=!0),1===p?("query"===r&&l||"label"===r&&u||(h="/",m={}),v=!0):c(R,["query","default2"],[r])&&(m.start=o.start(),m["by-date"]=v=!0,"default2"===r&&(m.q="*")),v?(d=Br(h,m),new Promise((function(t){return t(d)}))):(t.params=i.max(1).build(),s(t).then((function(t){var r=function(t){return Z(t=V(t,I(this)))?n:t[0]}(T(t,"feed","entry")||[]);if(!r)return Br("/",{});var e=r.published;return e=e.substring(0,19)+e.substring(23,29),m["updated-max"]=e,Br(h,m)})))}})))}});var Lr={};at(Lr,{toText:rr,toNumber:nr,toBool:er,toCategory:ur,toCategories:or,toAuthor:ir,toAuthors:ar,toEntry:cr,toFeed:fr,toBlogEntry:sr,toBlog:lr});var Mr={posts:gr,entries:Tr,search:Cr,feed:kr,routes:Wt,buildUrl:Yt,getId:Gt,converters:Lr},Ur=["comments","pages"];return _(Ur,(function(t){B(Mr,t,(function(r){return B(r,"feed","type",t),Tr(r)}))})),Ur.push("posts"),_(Ur,(function(t){B(Mr,t,"byId",(function(r){return B(r,"feed","type",t),hr(r)}))})),B(Mr,"comments","byId",(function(t){return B(t,"feed","type","comments"),mr(t,vr(yr),T(t,"id"))})),nt(t,Mr),t.buildUrl=Yt,t.feed=kr,t.getId=Gt,t}({});
